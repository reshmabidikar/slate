<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kill Bill account API Documentation">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
      <title>Kill Bill</title>
      <style media="screen">
        .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #D0D5DD;
}
.highlight .sr {
  color: #FDA29B;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #FEC84B;
}
.highlight .cm {
  color: #84ADFF;
}
.highlight .cp {
  color: #84ADFF;
}
.highlight .c1 {
  color: #84ADFF;
}
.highlight .cs {
  color: #84ADFF;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #84ADFF;
}
.highlight .err {
  color: #FE6099;
}
.highlight .gr {
  color: #FE6099;
}
.highlight .gt {
  color: #FE6099;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #84ADFF;
}
.highlight .kd {
  color: #84ADFF;
}
.highlight .kr {
  color: #84ADFF;
}
.highlight .no {
  color: #84ADFF;
}
.highlight .kt {
  color: #84ADFF;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #FDA29B;
}
.highlight .s2 {
  color: #FDA29B;
}
.highlight .sb {
  color: #FDA29B;
}
.highlight .sh {
  color: #FDA29B;
}
.highlight .si {
  color: #FDA29B;
}
.highlight .sx {
  color: #FDA29B;
}
.highlight .s1 {
  color: #FDA29B;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #FDA29B;
}
.highlight .na {
  color: #6CE9A6;
}
.highlight .nc {
  color: #6CE9A6;
}
.highlight .nd {
  color: #6CE9A6;
}
.highlight .ne {
  color: #6CE9A6;
}
.highlight .nf, .highlight .fm {
  color: #6CE9A6;
}
.highlight .vc {
  color: #D0D5DD;
}
.highlight .nn {
  color: #D0D5DD;
}
.highlight .ni {
  color: #D0D5DD;
}
.highlight .bp {
  color: #D0D5DD;
}
.highlight .vg {
  color: #D0D5DD;
}
.highlight .vi {
  color: #D0D5DD;
}
.highlight .nv, .highlight .vm {
  color: #D0D5DD;
}
.highlight .w {
  color: #D0D5DD;
}
.highlight {
  color: #D0D5DD;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #D0D5DD;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ow {
  color: #84ADFF;
}
.highlight .nt {
  color: #84ADFF;
}
.highlight .k, .highlight .kv {
  color: #84ADFF;
}
.highlight .kn {
  color: #84ADFF;
}
.highlight .kp {
  color: #84ADFF;
}
.highlight .o {
  color: #84ADFF;
}
      </style>
      <style media="print">
        * {
          -webkit-transition:none!important;
          transition:none!important;
        }
        .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
      </style>
      <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
      <link href="stylesheets/print.css" rel="stylesheet" media="print" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
  </head>

  <body data-languages="[&quot;shell&quot;,&quot;java&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;,&quot;php&quot;]">
    <div class="loader-wrapper">
      <div id="loading"></div>
    </div>
    <header class="header sticky" id="header">
      <div class="header__logo-wrapper">
        <a href="/"  aria-label="Kill Bill logo" class="header__logo"></a>
        <label class="header__theme-switch theme-switch"></label>
      </div>
      
      <div class="header__sidebar-toggler">
        <svg class="hamburger" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="currentColor">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M20.75 7C20.75 7.41421 20.4142 7.75 20 7.75L4 7.75C3.58579 7.75 3.25 7.41421 3.25 7C3.25 6.58579 3.58579 6.25 4 6.25L20 6.25C20.4142 6.25 20.75 6.58579 20.75 7Z" fill=""/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M20.75 12C20.75 12.4142 20.4142 12.75 20 12.75L4 12.75C3.58579 12.75 3.25 12.4142 3.25 12C3.25 11.5858 3.58579 11.25 4 11.25L20 11.25C20.4142 11.25 20.75 11.5858 20.75 12Z" fill=""/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M20.75 17C20.75 17.4142 20.4142 17.75 20 17.75L4 17.75C3.58579 17.75 3.25 17.4142 3.25 17C3.25 16.5858 3.58579 16.25 4 16.25L20 16.25C20.4142 16.25 20.75 16.5858 20.75 17Z" fill=""/>
        </svg>
      </div>

      <div class="header__search-wrapper">
        <div class="header__search">
          <div id="docsearch" style="height: 43px; display: flex; align-items: center; width: 100%;">
          </div>
        </div>

          <div class="lang-selector">
            <label>
              <select class="lang-selector__select">
                  <option data-language-name="shell" value="shell">shell</option>
                  <option data-language-name="java" value="java">java</option>
                  <option data-language-name="ruby" value="ruby">ruby</option>
                  <option data-language-name="python" value="python">python</option>
                  <option data-language-name="javascript" value="javascript">javascript</option>
                  <option data-language-name="php" value="php">php</option>
              </select>
            </label>
            <div class="lang-selector__list">
                  <a href="#" class="lang-selector__link" data-language-name="shell">shell</a>
                  <a href="#" class="lang-selector__link" data-language-name="java">java</a>
                  <a href="#" class="lang-selector__link" data-language-name="ruby">ruby</a>
                  <a href="#" class="lang-selector__link" data-language-name="python">python</a>
                  <a href="#" class="lang-selector__link" data-language-name="javascript">javascript</a>
                  <a href="#" class="lang-selector__link" data-language-name="php">php</a>
            </div>
          </div>
      </div>
    </header>
    <main class="page sidebar-show">
      <div class="page__sidebar">
        <div class="page__sidebar-toggle">
          <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.33316 10.6665L1.6665 5.99992L6.33316 1.33325" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <nav class="site-navigator">
          <ul class="site-navigator__menu">
              <li>
                <a href="index.html" class="site-navigator__item site-navigator__menu-item" data-title="Using Kill Bill APIs">
                  <span>Using Kill Bill APIs</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#introduction" class="site-navigator__item site-navigator__submenu-item" data-title="Introduction">
                          <span>Introduction</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#authentication-and-rbac" class="site-navigator__item site-navigator__submenu-item" data-title="Authentication and RBAC">
                          <span>Authentication and RBAC</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#multi-tenancy" class="site-navigator__item site-navigator__submenu-item" data-title="Multi-Tenancy">
                          <span>Multi-Tenancy</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#resource-ids-and-external-keys" class="site-navigator__item site-navigator__submenu-item" data-title="Resource IDs and External Keys">
                          <span>Resource IDs and External Keys</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#pagination" class="site-navigator__item site-navigator__submenu-item" data-title="Pagination">
                          <span>Pagination</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-and-history" class="site-navigator__item site-navigator__submenu-item" data-title="Audit and History">
                          <span>Audit and History</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#versioning" class="site-navigator__item site-navigator__submenu-item" data-title="Versioning">
                          <span>Versioning</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#kill-bill-server" class="site-navigator__item site-navigator__submenu-item" data-title="Kill Bill Server">
                                  <span>Kill Bill Server</span>
                                </a>
                              </li>
                              <li>
                                <a href="#client-libraries" class="site-navigator__item site-navigator__submenu-item" data-title="Client Libraries">
                                  <span>Client Libraries</span>
                                </a>
                              </li>
                              <li>
                                <a href="#plugins" class="site-navigator__item site-navigator__submenu-item" data-title="Plugins">
                                  <span>Plugins</span>
                                </a>
                              </li>
                              <li>
                                <a href="#kpm" class="site-navigator__item site-navigator__submenu-item" data-title="KPM">
                                  <span>KPM</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#errors" class="site-navigator__item site-navigator__submenu-item" data-title="Errors">
                          <span>Errors</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#additional-resources" class="site-navigator__item site-navigator__submenu-item" data-title="Additional Resources">
                          <span>Additional Resources</span>
                        </a>

                      </li>
                  </ul>
              </li>
              <li>
                <a href="tenant.html" class="site-navigator__item site-navigator__menu-item" data-title="Tenant">
                  <span>Tenant</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#tenant-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Tenant Resource">
                          <span>Tenant Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tenant-2" class="site-navigator__item site-navigator__submenu-item" data-title="Tenant">
                          <span>Tenant</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#create-a-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Create a tenant">
                                  <span>Create a tenant</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-tenant-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a tenant by id">
                                  <span>Retrieve a tenant by id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-tenant-by-its-api-key" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a tenant by its API key">
                                  <span>Retrieve a tenant by its API key</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tenant-key-value-pairs" class="site-navigator__item site-navigator__submenu-item" data-title="Tenant Key-Value Pairs">
                          <span>Tenant Key-Value Pairs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-a-per-tenant-user-key-value" class="site-navigator__item site-navigator__submenu-item" data-title="Add a per tenant user key/value">
                                  <span>Add a per tenant user key/value</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-per-tenant-user-key-value" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a per tenant user key value">
                                  <span>Retrieve a per tenant user key value</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-a-per-tenant-user-key-value" class="site-navigator__item site-navigator__submenu-item" data-title="Delete a per tenant user key/value">
                                  <span>Delete a per tenant user key/value</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-per-tenant-keys-and-values-based-on-a-key-prefix" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve per tenant keys and values based on a key prefix">
                                  <span>Retrieve per tenant keys and values based on a key prefix</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#push-notifications" class="site-navigator__item site-navigator__submenu-item" data-title="Push Notifications">
                          <span>Push Notifications</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#register-a-push-notification" class="site-navigator__item site-navigator__submenu-item" data-title="Register a push notification">
                                  <span>Register a push notification</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-registered-push-notification" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a registered push notification">
                                  <span>Retrieve a registered push notification</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-a-registered-push-notification" class="site-navigator__item site-navigator__submenu-item" data-title="Delete a registered push notification">
                                  <span>Delete a registered push notification</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#system-properties-configuration" class="site-navigator__item site-navigator__submenu-item" data-title="System Properties Configuration">
                          <span>System Properties Configuration</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-a-per-tenant-system-properties-configuration" class="site-navigator__item site-navigator__submenu-item" data-title="Add a per tenant system properties configuration">
                                  <span>Add a per tenant system properties configuration</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-per-tenant-system-properties-configuration" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a per tenant system properties configuration">
                                  <span>Retrieve a per tenant system properties configuration</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-a-per-tenant-system-properties-configuration" class="site-navigator__item site-navigator__submenu-item" data-title="Delete a per tenant system properties configuration">
                                  <span>Delete a per tenant system properties configuration</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#plugin-configuration" class="site-navigator__item site-navigator__submenu-item" data-title="Plugin Configuration">
                          <span>Plugin Configuration</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-a-per-tenant-configuration-for-a-plugin" class="site-navigator__item site-navigator__submenu-item" data-title="Add a per tenant configuration for a plugin">
                                  <span>Add a per tenant configuration for a plugin</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-per-tenant-configuration-for-a-plugin" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a per tenant configuration for a plugin">
                                  <span>Retrieve a per tenant configuration for a plugin</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-a-per-tenant-configuration-for-a-plugin" class="site-navigator__item site-navigator__submenu-item" data-title="Delete a per tenant configuration for a plugin">
                                  <span>Delete a per tenant configuration for a plugin</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#payment-state-machines" class="site-navigator__item site-navigator__submenu-item" data-title="Payment State Machines">
                          <span>Payment State Machines</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-a-per-tenant-payment-state-machine-for-a-plugin" class="site-navigator__item site-navigator__submenu-item" data-title="Add a per tenant payment state machine for a plugin">
                                  <span>Add a per tenant payment state machine for a plugin</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-per-tenant-payment-state-machine-for-a-plugin" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a per tenant payment state machine for a plugin">
                                  <span>Retrieve a per tenant payment state machine for a plugin</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-a-per-tenant-payment-state-machine-for-a-plugin" class="site-navigator__item site-navigator__submenu-item" data-title="Delete a per tenant payment state machine for a plugin">
                                  <span>Delete a per tenant payment state machine for a plugin</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="catalog.html" class="site-navigator__item site-navigator__menu-item" data-title="Catalog">
                  <span>Catalog</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#catalog-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Catalog Resource">
                          <span>Catalog Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#catalogvalidation-resource" class="site-navigator__item site-navigator__submenu-item" data-title="CatalogValidation Resource">
                          <span>CatalogValidation Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#catalog-2" class="site-navigator__item site-navigator__submenu-item" data-title="Catalog">
                          <span>Catalog</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#upload-a-catalog-as-xml" class="site-navigator__item site-navigator__submenu-item" data-title="Upload a catalog as XML">
                                  <span>Upload a catalog as XML</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-the-catalog-as-xml" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve the catalog as XML">
                                  <span>Retrieve the catalog as XML</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-the-catalog-as-json" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve the catalog as JSON">
                                  <span>Retrieve the catalog as JSON</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-list-of-catalog-versions" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a list of catalog versions">
                                  <span>Retrieve a list of catalog versions</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-available-base-plans" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve available base plans">
                                  <span>Retrieve available base plans</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-available-add-ons-for-a-given-product" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve available add-ons for a given product">
                                  <span>Retrieve available add-ons for a given product</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-all-versions-of-a-per-tenant-catalog" class="site-navigator__item site-navigator__submenu-item" data-title="Delete all versions of a per tenant catalog">
                                  <span>Delete all versions of a per tenant catalog</span>
                                </a>
                              </li>
                              <li>
                                <a href="#validate-a-catalog-xml" class="site-navigator__item site-navigator__submenu-item" data-title="Validate a catalog XML">
                                  <span>Validate a catalog XML</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#subscription-info" class="site-navigator__item site-navigator__submenu-item" data-title="Subscription info">
                          <span>Subscription info</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-the-phase-for-a-given-subscription-and-date" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve the phase for a given subscription and date">
                                  <span>Retrieve the phase for a given subscription and date</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-the-plan-for-a-given-subscription-and-date" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve the plan for a given subscription and date">
                                  <span>Retrieve the plan for a given subscription and date</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-the-pricelist-for-a-given-subscription-and-date" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve the priceList for a given subscription and date">
                                  <span>Retrieve the priceList for a given subscription and date</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-product-for-a-given-subscription-and-date" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve product for a given subscription and date">
                                  <span>Retrieve product for a given subscription and date</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#simple-plan" class="site-navigator__item site-navigator__submenu-item" data-title="Simple Plan">
                          <span>Simple Plan</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-a-simple-plan" class="site-navigator__item site-navigator__submenu-item" data-title="Add a simple plan">
                                  <span>Add a simple plan</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="#account" class="site-navigator__item site-navigator__menu-item" data-title="Account">
                  <span>Account</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#account-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Account Resource">
                          <span>Account Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#accounts" class="site-navigator__item site-navigator__submenu-item" data-title="Accounts">
                          <span>Accounts</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#create-an-account" class="site-navigator__item site-navigator__submenu-item" data-title="Create an Account">
                                  <span>Create an Account</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-an-account-by-its-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve an Account by its ID">
                                  <span>Retrieve an Account by its ID</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-an-account-by-its-external-key" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve an Account by its external key">
                                  <span>Retrieve an Account by its external key</span>
                                </a>
                              </li>
                              <li>
                                <a href="#update-an-account" class="site-navigator__item site-navigator__submenu-item" data-title="Update an Account">
                                  <span>Update an Account</span>
                                </a>
                              </li>
                              <li>
                                <a href="#close-account" class="site-navigator__item site-navigator__submenu-item" data-title="Close account">
                                  <span>Close account</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#list-and-search" class="site-navigator__item site-navigator__submenu-item" data-title="List and Search">
                          <span>List and Search</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#list-accounts" class="site-navigator__item site-navigator__submenu-item" data-title="List accounts">
                                  <span>List accounts</span>
                                </a>
                              </li>
                              <li>
                                <a href="#search-accounts" class="site-navigator__item site-navigator__submenu-item" data-title="Search accounts">
                                  <span>Search accounts</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#email" class="site-navigator__item site-navigator__submenu-item" data-title="Email">
                          <span>Email</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-account-email" class="site-navigator__item site-navigator__submenu-item" data-title="Add account email">
                                  <span>Add account email</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-account-emails" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account emails">
                                  <span>Retrieve account emails</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-email" class="site-navigator__item site-navigator__submenu-item" data-title="Delete email">
                                  <span>Delete email</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#bundle" class="site-navigator__item site-navigator__submenu-item" data-title="Bundle">
                          <span>Bundle</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-bundles-for-account" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve bundles for account">
                                  <span>Retrieve bundles for account</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-paginated-bundles-for-account" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve paginated bundles for account">
                                  <span>Retrieve paginated bundles for account</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Invoice">
                          <span>Invoice</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-account-invoices" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account invoices">
                                  <span>Retrieve account invoices</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-paginated-account-invoices" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve paginated account invoices">
                                  <span>Retrieve paginated account invoices</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#payment" class="site-navigator__item site-navigator__submenu-item" data-title="Payment">
                          <span>Payment</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#trigger-a-payment-for-all-unpaid-invoices" class="site-navigator__item site-navigator__submenu-item" data-title="Trigger a payment for all unpaid invoices">
                                  <span>Trigger a payment for all unpaid invoices</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-account-invoice-payments" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account invoice payments">
                                  <span>Retrieve account invoice payments</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-account-payments" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account payments">
                                  <span>Retrieve account payments</span>
                                </a>
                              </li>
                              <li>
                                <a href="#trigger-a-payment-authorization-purchase-or-credit" class="site-navigator__item site-navigator__submenu-item" data-title="Trigger a payment (authorization, purchase or credit)">
                                  <span>Trigger a payment (authorization, purchase or credit)</span>
                                </a>
                              </li>
                              <li>
                                <a href="#trigger-a-payment-authorization-purchase-or-credit-using-the-account-external-key" class="site-navigator__item site-navigator__submenu-item" data-title="Trigger a payment (authorization, purchase or credit) using the account external key">
                                  <span>Trigger a payment (authorization, purchase or credit) using the account external key</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#payment-method" class="site-navigator__item site-navigator__submenu-item" data-title="Payment Method">
                          <span>Payment Method</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-a-payment-method" class="site-navigator__item site-navigator__submenu-item" data-title="Add a payment method">
                                  <span>Add a payment method</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-account-payment-methods" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account payment methods">
                                  <span>Retrieve account payment methods</span>
                                </a>
                              </li>
                              <li>
                                <a href="#set-the-default-payment-method" class="site-navigator__item site-navigator__submenu-item" data-title="Set the default payment method">
                                  <span>Set the default payment method</span>
                                </a>
                              </li>
                              <li>
                                <a href="#refresh-account-payment-methods" class="site-navigator__item site-navigator__submenu-item" data-title="Refresh account payment methods">
                                  <span>Refresh account payment methods</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#overdue" class="site-navigator__item site-navigator__submenu-item" data-title="Overdue">
                          <span>Overdue</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-overdue-state-for-account" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve overdue state for account">
                                  <span>Retrieve overdue state for account</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#blocking-state" class="site-navigator__item site-navigator__submenu-item" data-title="Blocking State">
                          <span>Blocking State</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#blocking-state-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Blocking State Resource">
                                  <span>Blocking State Resource</span>
                                </a>
                              </li>
                              <li>
                                <a href="#block-an-account" class="site-navigator__item site-navigator__submenu-item" data-title="Block an account">
                                  <span>Block an account</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-blocking-states-for-account" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve blocking states for account">
                                  <span>Retrieve blocking states for account</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#hierarchical-accounts" class="site-navigator__item site-navigator__submenu-item" data-title="Hierarchical Accounts">
                          <span>Hierarchical Accounts</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#list-child-accounts" class="site-navigator__item site-navigator__submenu-item" data-title="List child accounts">
                                  <span>List child accounts</span>
                                </a>
                              </li>
                              <li>
                                <a href="#transfer-a-given-child-credit-to-the-parent-level" class="site-navigator__item site-navigator__submenu-item" data-title="Transfer a given child credit to the parent level">
                                  <span>Transfer a given child credit to the parent level</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Fields">
                          <span>Custom Fields</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-custom-fields-to-account" class="site-navigator__item site-navigator__submenu-item" data-title="Add custom fields to account">
                                  <span>Add custom fields to account</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-all-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve all custom fields">
                                  <span>Retrieve all custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-account-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account custom fields">
                                  <span>Retrieve account custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#modify-custom-fields-for-an-account" class="site-navigator__item site-navigator__submenu-item" data-title="Modify custom fields for an account">
                                  <span>Modify custom fields for an account</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-custom-fields-from-account" class="site-navigator__item site-navigator__submenu-item" data-title="Remove custom fields from account">
                                  <span>Remove custom fields from account</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tags" class="site-navigator__item site-navigator__submenu-item" data-title="Tags">
                          <span>Tags</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-tags-to-account" class="site-navigator__item site-navigator__submenu-item" data-title="Add tags to account">
                                  <span>Add tags to account</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-all-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve all tags">
                                  <span>Retrieve all tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-account-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account tags">
                                  <span>Retrieve account tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-tags-from-account" class="site-navigator__item site-navigator__submenu-item" data-title="Remove tags from account">
                                  <span>Remove tags from account</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve audit logs">
                                  <span>Retrieve audit logs</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-account-audit-logs-with-history" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account audit logs with history">
                                  <span>Retrieve account audit logs with history</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-account-email-audit-logs-with-history" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account email audit logs with history">
                                  <span>Retrieve account email audit logs with history</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-blocking-state-audit-logs-with-history" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve blocking state audit logs with history">
                                  <span>Retrieve blocking state audit logs with history</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-account-timeline" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve account timeline">
                                  <span>Retrieve account timeline</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="payment-method.html" class="site-navigator__item site-navigator__menu-item" data-title="Payment Method">
                  <span>Payment Method</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#payment-method-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Payment Method Resource">
                          <span>Payment Method Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#plugin-details-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Plugin Details Resource">
                          <span>Plugin Details Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#payment-methods" class="site-navigator__item site-navigator__submenu-item" data-title="Payment Methods">
                          <span>Payment Methods</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-a-payment-method-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a payment method by id">
                                  <span>Retrieve a payment method by id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-payment-method-by-external-key" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a payment method by external key">
                                  <span>Retrieve a payment method by external key</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-a-payment-method" class="site-navigator__item site-navigator__submenu-item" data-title="Delete a payment method">
                                  <span>Delete a payment method</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#list-and-search" class="site-navigator__item site-navigator__submenu-item" data-title="List and Search">
                          <span>List and Search</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#list-payment-methods" class="site-navigator__item site-navigator__submenu-item" data-title="List payment methods">
                                  <span>List payment methods</span>
                                </a>
                              </li>
                              <li>
                                <a href="#search-payment-methods" class="site-navigator__item site-navigator__submenu-item" data-title="Search payment methods">
                                  <span>Search payment methods</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Fields">
                          <span>Custom Fields</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-custom-fields-to-a-payment-method" class="site-navigator__item site-navigator__submenu-item" data-title="Add custom fields to a payment method">
                                  <span>Add custom fields to a payment method</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-payment-method-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payment method custom fields">
                                  <span>Retrieve payment method custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#modify-custom-fields-for-payment-method" class="site-navigator__item site-navigator__submenu-item" data-title="Modify custom fields for payment method">
                                  <span>Modify custom fields for payment method</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-custom-fields-from-payment-method" class="site-navigator__item site-navigator__submenu-item" data-title="Remove custom fields from payment method">
                                  <span>Remove custom fields from payment method</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-payment-method-audit-logs-with-history-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payment method audit logs with history by id">
                                  <span>Retrieve payment method audit logs with history by id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="subscription.html" class="site-navigator__item site-navigator__menu-item" data-title="Subscription">
                  <span>Subscription</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#subscription-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Subscription Resource">
                          <span>Subscription Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#subscriptionevent-resource" class="site-navigator__item site-navigator__submenu-item" data-title="SubscriptionEvent Resource">
                          <span>SubscriptionEvent Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#subscriptions" class="site-navigator__item site-navigator__submenu-item" data-title="Subscriptions">
                          <span>Subscriptions</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#create-a-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Create a subscription">
                                  <span>Create a subscription</span>
                                </a>
                              </li>
                              <li>
                                <a href="#create-a-subscription-with-addon-products" class="site-navigator__item site-navigator__submenu-item" data-title="Create a subscription with addon products">
                                  <span>Create a subscription with addon products</span>
                                </a>
                              </li>
                              <li>
                                <a href="#create-multiple-subscriptions-with-addon-products" class="site-navigator__item site-navigator__submenu-item" data-title="Create multiple subscriptions with addon products">
                                  <span>Create multiple subscriptions with addon products</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-subscription-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a subscription by id">
                                  <span>Retrieve a subscription by id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-subscription-by-key" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a subscription by key">
                                  <span>Retrieve a subscription by key</span>
                                </a>
                              </li>
                              <li>
                                <a href="#update-the-bcd-associated-with-a-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Update the BCD associated with a subscription">
                                  <span>Update the BCD associated with a subscription</span>
                                </a>
                              </li>
                              <li>
                                <a href="#update-the-subscription-quantity" class="site-navigator__item site-navigator__submenu-item" data-title="Update the subscription quantity">
                                  <span>Update the subscription quantity</span>
                                </a>
                              </li>
                              <li>
                                <a href="#change-subscription-plan" class="site-navigator__item site-navigator__submenu-item" data-title="Change subscription plan">
                                  <span>Change subscription plan</span>
                                </a>
                              </li>
                              <li>
                                <a href="#undo-a-pending-change-plan-on-a-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Undo a pending change plan on a subscription">
                                  <span>Undo a pending change plan on a subscription</span>
                                </a>
                              </li>
                              <li>
                                <a href="#cancel-a-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Cancel a subscription">
                                  <span>Cancel a subscription</span>
                                </a>
                              </li>
                              <li>
                                <a href="#un-cancel-a-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Un-cancel a subscription">
                                  <span>Un-cancel a subscription</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#blocking-state" class="site-navigator__item site-navigator__submenu-item" data-title="Blocking State">
                          <span>Blocking State</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#block-a-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Block a subscription">
                                  <span>Block a subscription</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Fields">
                          <span>Custom Fields</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-custom-fields-to-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Add custom fields to subscription">
                                  <span>Add custom fields to subscription</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-subscription-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve subscription custom fields">
                                  <span>Retrieve subscription custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#modify-custom-fields-for-a-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Modify custom fields for a subscription">
                                  <span>Modify custom fields for a subscription</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-custom-fields-from-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Remove custom fields from subscription">
                                  <span>Remove custom fields from subscription</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tags" class="site-navigator__item site-navigator__submenu-item" data-title="Tags">
                          <span>Tags</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-tags-to-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Add tags to subscription">
                                  <span>Add tags to subscription</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-subscription-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve subscription tags">
                                  <span>Retrieve subscription tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-tags-from-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Remove tags from subscription">
                                  <span>Remove tags from subscription</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-subscription-audit-logs-with-history-by-subscription-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve subscription audit logs with history by subscription id">
                                  <span>Retrieve subscription audit logs with history by subscription id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-subscription-event-audit-logs-with-history-by-subscription-event-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve subscription event audit logs with history by subscription event id">
                                  <span>Retrieve subscription event audit logs with history by subscription event id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="bundle.html" class="site-navigator__item site-navigator__menu-item" data-title="Bundle">
                  <span>Bundle</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#bundle-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Bundle Resource">
                          <span>Bundle Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#bundle-2" class="site-navigator__item site-navigator__submenu-item" data-title="Bundle">
                          <span>Bundle</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-a-bundle-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a bundle by id">
                                  <span>Retrieve a bundle by id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-bundle-by-external-key" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a bundle by external key">
                                  <span>Retrieve a bundle by external key</span>
                                </a>
                              </li>
                              <li>
                                <a href="#update-a-bundle-external-key" class="site-navigator__item site-navigator__submenu-item" data-title="Update a bundle external key">
                                  <span>Update a bundle external key</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#transfer" class="site-navigator__item site-navigator__submenu-item" data-title="Transfer">
                          <span>Transfer</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#transfer-a-bundle-to-another-account" class="site-navigator__item site-navigator__submenu-item" data-title="Transfer a bundle to another account">
                                  <span>Transfer a bundle to another account</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#blocking-state" class="site-navigator__item site-navigator__submenu-item" data-title="Blocking State">
                          <span>Blocking State</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#pause-a-bundle" class="site-navigator__item site-navigator__submenu-item" data-title="Pause a bundle">
                                  <span>Pause a bundle</span>
                                </a>
                              </li>
                              <li>
                                <a href="#resume-a-bundle" class="site-navigator__item site-navigator__submenu-item" data-title="Resume a bundle">
                                  <span>Resume a bundle</span>
                                </a>
                              </li>
                              <li>
                                <a href="#block-a-bundle" class="site-navigator__item site-navigator__submenu-item" data-title="Block a bundle">
                                  <span>Block a bundle</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Fields">
                          <span>Custom Fields</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-custom-fields-to-bundle" class="site-navigator__item site-navigator__submenu-item" data-title="Add custom fields to bundle">
                                  <span>Add custom fields to bundle</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-bundle-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve bundle custom fields">
                                  <span>Retrieve bundle custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#modify-custom-fields-for-a-bundle" class="site-navigator__item site-navigator__submenu-item" data-title="Modify custom fields for a bundle">
                                  <span>Modify custom fields for a bundle</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-custom-fields-from-bundle" class="site-navigator__item site-navigator__submenu-item" data-title="Remove custom fields from bundle">
                                  <span>Remove custom fields from bundle</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tags" class="site-navigator__item site-navigator__submenu-item" data-title="Tags">
                          <span>Tags</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-tags-to-bundle" class="site-navigator__item site-navigator__submenu-item" data-title="Add tags to bundle">
                                  <span>Add tags to bundle</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-bundle-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve bundle tags">
                                  <span>Retrieve bundle tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-tags-from-bundle" class="site-navigator__item site-navigator__submenu-item" data-title="Remove tags from bundle">
                                  <span>Remove tags from bundle</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-bundle-audit-logs-with-history-by-bundle-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve bundle audit logs with history by bundle id">
                                  <span>Retrieve bundle audit logs with history by bundle id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#list-search" class="site-navigator__item site-navigator__submenu-item" data-title="List/Search">
                          <span>List/Search</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#list-bundles" class="site-navigator__item site-navigator__submenu-item" data-title="List bundles">
                                  <span>List bundles</span>
                                </a>
                              </li>
                              <li>
                                <a href="#search-bundles" class="site-navigator__item site-navigator__submenu-item" data-title="Search bundles">
                                  <span>Search bundles</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="invoice.html" class="site-navigator__item site-navigator__menu-item" data-title="Invoice">
                  <span>Invoice</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#invoice-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Invoice Resource">
                          <span>Invoice Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#invoicedryrun-resource" class="site-navigator__item site-navigator__submenu-item" data-title="InvoiceDryRun Resource">
                          <span>InvoiceDryRun Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#invoice-2" class="site-navigator__item site-navigator__submenu-item" data-title="Invoice">
                          <span>Invoice</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#trigger-an-invoice-run" class="site-navigator__item site-navigator__submenu-item" data-title="Trigger an invoice run">
                                  <span>Trigger an invoice run</span>
                                </a>
                              </li>
                              <li>
                                <a href="#create-a-migration-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Create a migration invoice">
                                  <span>Create a migration invoice</span>
                                </a>
                              </li>
                              <li>
                                <a href="#create-external-charge-s" class="site-navigator__item site-navigator__submenu-item" data-title="Create external charge(s)">
                                  <span>Create external charge(s)</span>
                                </a>
                              </li>
                              <li>
                                <a href="#create-tax-items" class="site-navigator__item site-navigator__submenu-item" data-title="Create tax items">
                                  <span>Create tax items</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-an-invoice-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve an invoice by id">
                                  <span>Retrieve an invoice by id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-an-invoice-by-number" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve an invoice by number">
                                  <span>Retrieve an invoice by number</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-an-invoice-by-invoice-item-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve an invoice by invoice item id">
                                  <span>Retrieve an invoice by invoice item id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#render-an-invoice-as-html" class="site-navigator__item site-navigator__submenu-item" data-title="Render an invoice as HTML">
                                  <span>Render an invoice as HTML</span>
                                </a>
                              </li>
                              <li>
                                <a href="#change-invoice-status-from-draft-to-committed" class="site-navigator__item site-navigator__submenu-item" data-title="Change invoice status from DRAFT to COMMITTED">
                                  <span>Change invoice status from DRAFT to COMMITTED</span>
                                </a>
                              </li>
                              <li>
                                <a href="#void-an-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Void an invoice">
                                  <span>Void an invoice</span>
                                </a>
                              </li>
                              <li>
                                <a href="#adjust-an-invoice-item" class="site-navigator__item site-navigator__submenu-item" data-title="Adjust an invoice item">
                                  <span>Adjust an invoice item</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-a-cba-item" class="site-navigator__item site-navigator__submenu-item" data-title="Delete a CBA item">
                                  <span>Delete a CBA item</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#dry-run" class="site-navigator__item site-navigator__submenu-item" data-title="Dry-run">
                          <span>Dry-run</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#generate-a-dry-run-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Generate a dry run invoice">
                                  <span>Generate a dry run invoice</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#invoice-groups" class="site-navigator__item site-navigator__submenu-item" data-title="Invoice Groups">
                          <span>Invoice Groups</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#trigger-an-invoice-group-run" class="site-navigator__item site-navigator__submenu-item" data-title="Trigger an invoice group run">
                                  <span>Trigger an invoice group run</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-an-invoice-group" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve an invoice group">
                                  <span>Retrieve an invoice group</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#payments" class="site-navigator__item site-navigator__submenu-item" data-title="Payments">
                          <span>Payments</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#trigger-a-payment-for-an-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Trigger a payment for an invoice">
                                  <span>Trigger a payment for an invoice</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-payments-associated-with-an-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payments associated with an invoice">
                                  <span>Retrieve payments associated with an invoice</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Fields">
                          <span>Custom Fields</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-custom-fields-to-an-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Add custom fields to an invoice">
                                  <span>Add custom fields to an invoice</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-invoice-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve invoice custom fields">
                                  <span>Retrieve invoice custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#modify-custom-fields-for-an-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Modify custom fields for an invoice">
                                  <span>Modify custom fields for an invoice</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-custom-fields-from-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Remove custom fields from invoice">
                                  <span>Remove custom fields from invoice</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tags" class="site-navigator__item site-navigator__submenu-item" data-title="Tags">
                          <span>Tags</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-tags-to-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Add tags to invoice">
                                  <span>Add tags to invoice</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-invoice-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve invoice tags">
                                  <span>Retrieve invoice tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-tags-from-invoice" class="site-navigator__item site-navigator__submenu-item" data-title="Remove tags from invoice">
                                  <span>Remove tags from invoice</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#translation" class="site-navigator__item site-navigator__submenu-item" data-title="Translation">
                          <span>Translation</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#upload-the-catalog-translation-for-the-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Upload the catalog translation for the tenant">
                                  <span>Upload the catalog translation for the tenant</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-the-catalog-translation-for-the-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve the catalog translation for the tenant">
                                  <span>Retrieve the catalog translation for the tenant</span>
                                </a>
                              </li>
                              <li>
                                <a href="#upload-the-invoice-translation-for-the-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Upload the invoice translation for the tenant">
                                  <span>Upload the invoice translation for the tenant</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-the-invoice-translation-for-the-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve the invoice translation for the tenant">
                                  <span>Retrieve the invoice translation for the tenant</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#template" class="site-navigator__item site-navigator__submenu-item" data-title="Template">
                          <span>Template</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#upload-the-manualpay-invoice-template-for-the-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Upload the manualPay invoice template for the tenant">
                                  <span>Upload the manualPay invoice template for the tenant</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-the-manualpay-invoice-template-for-the-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve the manualPay invoice template for the tenant">
                                  <span>Retrieve the manualPay invoice template for the tenant</span>
                                </a>
                              </li>
                              <li>
                                <a href="#upload-the-invoice-template-for-the-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Upload the invoice template for the tenant">
                                  <span>Upload the invoice template for the tenant</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-the-invoice-template-for-the-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve the invoice template for the tenant">
                                  <span>Retrieve the invoice template for the tenant</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#example" class="site-navigator__item site-navigator__submenu-item" data-title="Example">
                          <span>Example</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-invoice-audit-logs-with-history-by-invoice-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve invoice audit logs with history by invoice id">
                                  <span>Retrieve invoice audit logs with history by invoice id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#list-and-search" class="site-navigator__item site-navigator__submenu-item" data-title="List and Search">
                          <span>List and Search</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#list-invoices" class="site-navigator__item site-navigator__submenu-item" data-title="List invoices">
                                  <span>List invoices</span>
                                </a>
                              </li>
                              <li>
                                <a href="#search-invoices" class="site-navigator__item site-navigator__submenu-item" data-title="Search invoices">
                                  <span>Search invoices</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="invoice-item.html" class="site-navigator__item site-navigator__menu-item" data-title="Invoice Item">
                  <span>Invoice Item</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#invoiceitem-resource" class="site-navigator__item site-navigator__submenu-item" data-title="InvoiceItem Resource">
                          <span>InvoiceItem Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Fields">
                          <span>Custom Fields</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-custom-fields-to-an-invoice-item" class="site-navigator__item site-navigator__submenu-item" data-title="Add custom fields to an invoice item">
                                  <span>Add custom fields to an invoice item</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-invoice-item-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve invoice item custom fields">
                                  <span>Retrieve invoice item custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#modify-custom-fields-for-an-invoice-item" class="site-navigator__item site-navigator__submenu-item" data-title="Modify custom fields for an invoice item">
                                  <span>Modify custom fields for an invoice item</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-custom-fields-from-invoice-item" class="site-navigator__item site-navigator__submenu-item" data-title="Remove custom fields from invoice item">
                                  <span>Remove custom fields from invoice item</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tags" class="site-navigator__item site-navigator__submenu-item" data-title="Tags">
                          <span>Tags</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-tags-to-invoice-item" class="site-navigator__item site-navigator__submenu-item" data-title="Add tags to invoice item">
                                  <span>Add tags to invoice item</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-invoice-item-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve invoice item tags">
                                  <span>Retrieve invoice item tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-tags-from-invoice-item" class="site-navigator__item site-navigator__submenu-item" data-title="Remove tags from invoice item">
                                  <span>Remove tags from invoice item</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-invoice-item-audit-logs-with-history-by-invoice-item-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve invoice item audit logs with history by invoice item id">
                                  <span>Retrieve invoice item audit logs with history by invoice item id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="credit.html" class="site-navigator__item site-navigator__menu-item" data-title="Credit">
                  <span>Credit</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#credit-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Credit Resource">
                          <span>Credit Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#credit-2" class="site-navigator__item site-navigator__submenu-item" data-title="Credit">
                          <span>Credit</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#create-credits" class="site-navigator__item site-navigator__submenu-item" data-title="Create credits">
                                  <span>Create credits</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-credit-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a credit by id">
                                  <span>Retrieve a credit by id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="payment.html" class="site-navigator__item site-navigator__menu-item" data-title="Payment">
                  <span>Payment</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#payment-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Payment Resource">
                          <span>Payment Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#payments" class="site-navigator__item site-navigator__submenu-item" data-title="Payments">
                          <span>Payments</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#capture-an-existing-authorization-using-paymentid" class="site-navigator__item site-navigator__submenu-item" data-title="Capture an existing authorization [using paymentId]">
                                  <span>Capture an existing authorization [using paymentId]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#capture-an-existing-authorization-using-paymentexternalkey" class="site-navigator__item site-navigator__submenu-item" data-title="Capture an existing authorization [using paymentExternalKey]">
                                  <span>Capture an existing authorization [using paymentExternalKey]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-payment-using-paymentid" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a payment [using paymentId]">
                                  <span>Retrieve a payment [using paymentId]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-payment-using-paymentexternalkey" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a payment [using paymentExternalKey]">
                                  <span>Retrieve a payment [using paymentExternalKey]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#complete-an-existing-transaction-using-paymentid" class="site-navigator__item site-navigator__submenu-item" data-title="Complete an existing transaction [using paymentId]">
                                  <span>Complete an existing transaction [using paymentId]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#complete-an-existing-transaction-using-paymentexternalkey" class="site-navigator__item site-navigator__submenu-item" data-title="Complete an existing transaction [using paymentExternalKey]">
                                  <span>Complete an existing transaction [using paymentExternalKey]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#void-an-existing-payment-using-paymentid" class="site-navigator__item site-navigator__submenu-item" data-title="Void an existing payment [using paymentId]">
                                  <span>Void an existing payment [using paymentId]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#void-an-existing-payment-using-paymentexternalkey" class="site-navigator__item site-navigator__submenu-item" data-title="Void an existing payment [using paymentExternalKey]">
                                  <span>Void an existing payment [using paymentExternalKey]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#record-a-chargeback-using-paymentid" class="site-navigator__item site-navigator__submenu-item" data-title="Record a chargeback [using paymentId]">
                                  <span>Record a chargeback [using paymentId]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#record-a-chargeback-using-paymentexternalkey" class="site-navigator__item site-navigator__submenu-item" data-title="Record a chargeback [using paymentExternalKey]">
                                  <span>Record a chargeback [using paymentExternalKey]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#record-a-chargeback-reversal-using-paymentid" class="site-navigator__item site-navigator__submenu-item" data-title="Record a chargeback reversal [using paymentId]">
                                  <span>Record a chargeback reversal [using paymentId]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#record-a-chargeback-reversal-using-paymentexternalkey" class="site-navigator__item site-navigator__submenu-item" data-title="Record a chargeback reversal [using paymentExternalKey]">
                                  <span>Record a chargeback reversal [using paymentExternalKey]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#refund-an-existing-payment-using-paymentid" class="site-navigator__item site-navigator__submenu-item" data-title="Refund an existing payment [using paymentId]">
                                  <span>Refund an existing payment [using paymentId]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#refund-an-existing-payment-using-paymentexternalkey" class="site-navigator__item site-navigator__submenu-item" data-title="Refund an existing payment [using paymentExternalKey]">
                                  <span>Refund an existing payment [using paymentExternalKey]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#cancel-a-scheduled-payment-attempt-retry-using-transactionid" class="site-navigator__item site-navigator__submenu-item" data-title="Cancel a scheduled payment attempt retry [using transactionId]">
                                  <span>Cancel a scheduled payment attempt retry [using transactionId]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#cancel-a-scheduled-payment-attempt-retry-using-transactionexternalkey" class="site-navigator__item site-navigator__submenu-item" data-title="Cancel a scheduled payment attempt retry [using transactionExternalKey]">
                                  <span>Cancel a scheduled payment attempt retry [using transactionExternalKey]</span>
                                </a>
                              </li>
                              <li>
                                <a href="#combo-api-to-create-a-new-payment-transaction-on-a-existing-or-not-account" class="site-navigator__item site-navigator__submenu-item" data-title="Combo api to create a new payment transaction on a existing (or not) account">
                                  <span>Combo api to create a new payment transaction on a existing (or not) account</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Fields">
                          <span>Custom Fields</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-custom-fields-to-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Add custom fields to payment">
                                  <span>Add custom fields to payment</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-payment-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payment custom fields">
                                  <span>Retrieve payment custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#modify-custom-fields-for-a-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Modify custom fields for a payment">
                                  <span>Modify custom fields for a payment</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-custom-fields-from-a-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Remove custom fields from a payment">
                                  <span>Remove custom fields from a payment</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tags" class="site-navigator__item site-navigator__submenu-item" data-title="Tags">
                          <span>Tags</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-tags-to-a-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Add tags to a payment">
                                  <span>Add tags to a payment</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-payment-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payment tags">
                                  <span>Retrieve payment tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-tags-from-a-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Remove tags from a payment">
                                  <span>Remove tags from a payment</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-payment-audit-logs-with-history-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payment audit logs with history by id">
                                  <span>Retrieve payment audit logs with history by id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-payment-attempt-audit-logs-with-history-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payment attempt audit logs with history by id">
                                  <span>Retrieve payment attempt audit logs with history by id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#list-and-search" class="site-navigator__item site-navigator__submenu-item" data-title="List and Search">
                          <span>List and Search</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#get-payments" class="site-navigator__item site-navigator__submenu-item" data-title="Get payments">
                                  <span>Get payments</span>
                                </a>
                              </li>
                              <li>
                                <a href="#search-payments" class="site-navigator__item site-navigator__submenu-item" data-title="Search payments">
                                  <span>Search payments</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="payment-transaction.html" class="site-navigator__item site-navigator__menu-item" data-title="Payment Transaction">
                  <span>Payment Transaction</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#payment-transaction-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Payment Transaction Resource">
                          <span>Payment Transaction Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#payment-transactions" class="site-navigator__item site-navigator__submenu-item" data-title="Payment Transactions">
                          <span>Payment Transactions</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-a-payment-by-transaction-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a payment by transaction id">
                                  <span>Retrieve a payment by transaction id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-payment-transaction-by-external-key" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a payment transaction by external key">
                                  <span>Retrieve a payment transaction by external key</span>
                                </a>
                              </li>
                              <li>
                                <a href="#mark-a-pending-payment-transaction-as-succeeded-or-failed" class="site-navigator__item site-navigator__submenu-item" data-title="Mark a pending payment transaction as succeeded or failed">
                                  <span>Mark a pending payment transaction as succeeded or failed</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-payment-transaction-audit-logs-with-history-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payment transaction audit logs with history by id">
                                  <span>Retrieve payment transaction audit logs with history by id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Fields">
                          <span>Custom Fields</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-custom-fields-to-payment-transaction" class="site-navigator__item site-navigator__submenu-item" data-title="Add custom fields to payment transaction">
                                  <span>Add custom fields to payment transaction</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-payment-transaction-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payment transaction custom fields">
                                  <span>Retrieve payment transaction custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#modify-custom-fields-for-a-payment-transaction" class="site-navigator__item site-navigator__submenu-item" data-title="Modify custom fields for a payment transaction">
                                  <span>Modify custom fields for a payment transaction</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-custom-fields-from-a-payment-transaction" class="site-navigator__item site-navigator__submenu-item" data-title="Remove custom fields from a payment transaction">
                                  <span>Remove custom fields from a payment transaction</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tags" class="site-navigator__item site-navigator__submenu-item" data-title="Tags">
                          <span>Tags</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-tags-to-a-payment-transaction" class="site-navigator__item site-navigator__submenu-item" data-title="Add tags to a payment transaction">
                                  <span>Add tags to a payment transaction</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-payment-transaction-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve payment transaction tags">
                                  <span>Retrieve payment transaction tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-tags-from-a-payment-transaction" class="site-navigator__item site-navigator__submenu-item" data-title="Remove tags from a payment transaction">
                                  <span>Remove tags from a payment transaction</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="invoice-payment.html" class="site-navigator__item site-navigator__menu-item" data-title="Invoice Payment">
                  <span>Invoice Payment</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#invoice-payment-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Invoice Payment Resource">
                          <span>Invoice Payment Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#invoice-payment-transaction-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Invoice Payment Transaction Resource">
                          <span>Invoice Payment Transaction Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#invoice-payment-2" class="site-navigator__item site-navigator__submenu-item" data-title="Invoice Payment">
                          <span>Invoice Payment</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-a-payment-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a payment by id">
                                  <span>Retrieve a payment by id</span>
                                </a>
                              </li>
                              <li>
                                <a href="#refund-a-payment-and-adjust-the-invoice-if-needed" class="site-navigator__item site-navigator__submenu-item" data-title="Refund a payment, and adjust the invoice if needed">
                                  <span>Refund a payment, and adjust the invoice if needed</span>
                                </a>
                              </li>
                              <li>
                                <a href="#record-a-chargeback" class="site-navigator__item site-navigator__submenu-item" data-title="Record a chargeback">
                                  <span>Record a chargeback</span>
                                </a>
                              </li>
                              <li>
                                <a href="#record-a-chargeback-reversal" class="site-navigator__item site-navigator__submenu-item" data-title="Record a chargeback reversal">
                                  <span>Record a chargeback reversal</span>
                                </a>
                              </li>
                              <li>
                                <a href="#complete-an-existing-transaction" class="site-navigator__item site-navigator__submenu-item" data-title="Complete an existing transaction">
                                  <span>Complete an existing transaction</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Fields">
                          <span>Custom Fields</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-custom-fields-to-invoice-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Add custom fields to invoice payment">
                                  <span>Add custom fields to invoice payment</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-invoice-payment-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve invoice payment custom fields">
                                  <span>Retrieve invoice payment custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#modify-custom-fields-for-an-invoice-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Modify custom fields for an invoice payment">
                                  <span>Modify custom fields for an invoice payment</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-custom-fields-from-an-invoice-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Remove custom fields from an invoice payment">
                                  <span>Remove custom fields from an invoice payment</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tags" class="site-navigator__item site-navigator__submenu-item" data-title="Tags">
                          <span>Tags</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#add-tags-to-an-invoice-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Add tags to an invoice payment">
                                  <span>Add tags to an invoice payment</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-invoice-payment-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve invoice payment tags">
                                  <span>Retrieve invoice payment tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-tags-from-an-invoice-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Remove tags from an invoice payment">
                                  <span>Remove tags from an invoice payment</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-invoice-payment-audit-logs-with-history-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve invoice payment audit logs with history by id">
                                  <span>Retrieve invoice payment audit logs with history by id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="usage.html" class="site-navigator__item site-navigator__menu-item" data-title="Usage">
                  <span>Usage</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#usage-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Usage Resource">
                          <span>Usage Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#usage-2" class="site-navigator__item site-navigator__submenu-item" data-title="Usage">
                          <span>Usage</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#record-usage-for-a-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Record usage for a subscription">
                                  <span>Record usage for a subscription</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-usage-for-a-subscription-and-unit-type" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve usage for a subscription and unit type">
                                  <span>Retrieve usage for a subscription and unit type</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-usage-for-a-subscription" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve usage for a subscription">
                                  <span>Retrieve usage for a subscription</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="custom-field.html" class="site-navigator__item site-navigator__menu-item" data-title="Custom Field">
                  <span>Custom Field</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#custom-field-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Custom Field  Resource">
                          <span>Custom Field  Resource</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#list-all-custom-fields" class="site-navigator__item site-navigator__submenu-item" data-title="List all custom fields">
                                  <span>List all custom fields</span>
                                </a>
                              </li>
                              <li>
                                <a href="#search-custom-fields-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Search custom fields by ID">
                                  <span>Search custom fields by ID</span>
                                </a>
                              </li>
                              <li>
                                <a href="#search-custom-fields-by-resource-type-name-and-optional-value" class="site-navigator__item site-navigator__submenu-item" data-title="Search custom fields by resource type, name, and optional value">
                                  <span>Search custom fields by resource type, name, and optional value</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-custom-field-audit-logs-with-history-by-custom-field-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve custom field audit logs with history by custom field id">
                                  <span>Retrieve custom field audit logs with history by custom field id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="tag.html" class="site-navigator__item site-navigator__menu-item" data-title="Tag">
                  <span>Tag</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#tag-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Tag  Resource">
                          <span>Tag  Resource</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#list-all-tags" class="site-navigator__item site-navigator__submenu-item" data-title="List all tags">
                                  <span>List all tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#search-tags" class="site-navigator__item site-navigator__submenu-item" data-title="Search tags">
                                  <span>Search tags</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-tag-audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve tag audit logs">
                                  <span>Retrieve tag audit logs</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="tag-definition.html" class="site-navigator__item site-navigator__menu-item" data-title="Tag Definition">
                  <span>Tag Definition</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#tag-definition-resource" class="site-navigator__item site-navigator__submenu-item" data-title="Tag Definition Resource">
                          <span>Tag Definition Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#tag-definition-2" class="site-navigator__item site-navigator__submenu-item" data-title="Tag Definition">
                          <span>Tag Definition</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#create-a-tag-definition" class="site-navigator__item site-navigator__submenu-item" data-title="Create a tag definition">
                                  <span>Create a tag definition</span>
                                </a>
                              </li>
                              <li>
                                <a href="#list-tag-definitions" class="site-navigator__item site-navigator__submenu-item" data-title="List tag definitions">
                                  <span>List tag definitions</span>
                                </a>
                              </li>
                              <li>
                                <a href="#retrieve-a-tag-definition-by-its-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve a tag definition by its ID">
                                  <span>Retrieve a tag definition by its ID</span>
                                </a>
                              </li>
                              <li>
                                <a href="#delete-a-tag-definition" class="site-navigator__item site-navigator__submenu-item" data-title="Delete a tag definition">
                                  <span>Delete a tag definition</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#audit-logs" class="site-navigator__item site-navigator__submenu-item" data-title="Audit Logs">
                          <span>Audit Logs</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#retrieve-tag-definition-audit-logs-with-history-by-id" class="site-navigator__item site-navigator__submenu-item" data-title="Retrieve tag definition audit logs with history by id">
                                  <span>Retrieve tag definition audit logs with history by id</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                <a href="admin.html" class="site-navigator__item site-navigator__menu-item" data-title="Admin">
                  <span>Admin</span>
                </a>
                
                  <ul class="site-navigator__submenu">
                      <li class="site-navigator__submenu-container">
                        <a href="#adminpayment-resource" class="site-navigator__item site-navigator__submenu-item" data-title="AdminPayment Resource">
                          <span>AdminPayment Resource</span>
                        </a>

                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#administrative-apis" class="site-navigator__item site-navigator__submenu-item" data-title="Administrative Apis">
                          <span>Administrative Apis</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#trigger-an-invoice-generation-for-all-parked-accounts" class="site-navigator__item site-navigator__submenu-item" data-title="Trigger an invoice generation for all parked accounts">
                                  <span>Trigger an invoice generation for all parked accounts</span>
                                </a>
                              </li>
                              <li>
                                <a href="#update-the-state-of-a-paymenttransaction-and-associated-payment" class="site-navigator__item site-navigator__submenu-item" data-title="Update the state of a paymentTransaction and associated payment">
                                  <span>Update the state of a paymentTransaction and associated payment</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#operational-apis" class="site-navigator__item site-navigator__submenu-item" data-title="Operational Apis">
                          <span>Operational Apis</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#invalidate-a-specific-cache-or-invalidate-all-caches" class="site-navigator__item site-navigator__submenu-item" data-title="Invalidate a specific cache, or invalidate all caches">
                                  <span>Invalidate a specific cache, or invalidate all caches</span>
                                </a>
                              </li>
                              <li>
                                <a href="#invalidate-caches-for-an-account" class="site-navigator__item site-navigator__submenu-item" data-title="Invalidate Caches for an Account">
                                  <span>Invalidate Caches for an Account</span>
                                </a>
                              </li>
                              <li>
                                <a href="#invalidate-caches-for-a-tenant" class="site-navigator__item site-navigator__submenu-item" data-title="Invalidate Caches for a Tenant">
                                  <span>Invalidate Caches for a Tenant</span>
                                </a>
                              </li>
                              <li>
                                <a href="#put-the-host-back-into-rotation" class="site-navigator__item site-navigator__submenu-item" data-title="Put the host back into rotation">
                                  <span>Put the host back into rotation</span>
                                </a>
                              </li>
                              <li>
                                <a href="#remove-a-server-from-the-rotation" class="site-navigator__item site-navigator__submenu-item" data-title="Remove a server from the rotation">
                                  <span>Remove a server from the rotation</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                      <li class="site-navigator__submenu-container">
                        <a href="#low-level-view-apis" class="site-navigator__item site-navigator__submenu-item" data-title="Low Level View Apis">
                          <span>Low Level View Apis</span>
                        </a>

                          <ul class="site-navigator__submenu">
                              <li>
                                <a href="#get-queue-entries" class="site-navigator__item site-navigator__submenu-item" data-title="Get queue entries">
                                  <span>Get queue entries</span>
                                </a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
          </ul>
            <ul class="site-navigator__footer">
                <li><a href="mailto:support@killbill.io">Report a doc problem </a></li>
            </ul>
        </nav>
      </div>

      <div class="page__content content">
        <h1 id='account'>Account</h1>
<p>Each of your customers is identified by an account. The information for an account is contained in an account resource object. The endpoints in this group manage the account resource and the information it contains. </p>
<h2 id='account-resource'>Account Resource</h2>
<p>An <code>Account</code> resource represents a customer. This is the top level per-customer resource. All other per-customer data, such as bundles, subscriptions, invoices and payments, will be linked to this resource. An account resource may contain Personally Identifiable Information (PII) for the customer such as name, address, email, etc. A large number of endpoints are available to manage not only purely account related information -- e.g <code>name</code> -- but other per-account data as well.</p>

<p>The attributes contained in the account resource are the following:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Generated by</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>accountId</strong></td>
<td>string</td>
<td>system</td>
<td>UUID for this account</td>
</tr>
<tr>
<td><strong>externalKey</strong></td>
<td>string</td>
<td>user</td>
<td>Optional external key provided by the client</td>
</tr>
<tr>
<td><strong>referenceTime</strong></td>
<td>string</td>
<td>system</td>
<td>ISO date and time this account was created</td>
</tr>
<tr>
<td><strong>parentAccountId</strong></td>
<td>string</td>
<td>user</td>
<td>UUID for the parent account, if any, if the <a href="http://docs.killbill.io/latest/ha.html">hierarchical accounts (HA) model</a> is used</td>
</tr>
<tr>
<td><strong>isPaymentDelegatedToParent</strong></td>
<td>boolean</td>
<td>user</td>
<td>For the hierarchical model, indicates whether the parent account, if any, is handling payments for this account</td>
</tr>
<tr>
<td><strong>currency</strong></td>
<td>string</td>
<td>user</td>
<td>Default currency for the customer</td>
</tr>
<tr>
<td><strong>billCycleDayLocal</strong></td>
<td>integer</td>
<td>system or user</td>
<td>Default day of the month to bill customers for subscriptions with an <code>ACCOUNT</code> <a href="http://docs.killbill.io/latest/userguide_subscription.html#_billing_alignment_rules">billing alignment</a> and a billing period that is a multiple of one month.</td>
</tr>
<tr>
<td><strong>paymentMethodId</strong></td>
<td>string</td>
<td>user</td>
<td>UUID for the default payment method used by the system to make recurring payments</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>string</td>
<td>user</td>
<td>Name of the account</td>
</tr>
<tr>
<td><strong>firstNameLength</strong></td>
<td>integer</td>
<td>user</td>
<td>Length of the first name (first part of <strong>name</strong>)</td>
</tr>
<tr>
<td><strong>company</strong></td>
<td>string</td>
<td>user</td>
<td>Customer&#39;s company name</td>
</tr>
<tr>
<td><strong>address1</strong></td>
<td>string</td>
<td>user</td>
<td>Address line 1</td>
</tr>
<tr>
<td><strong>address2</strong></td>
<td>string</td>
<td>user</td>
<td>Address line 2</td>
</tr>
<tr>
<td><strong>city</strong></td>
<td>string</td>
<td>user</td>
<td>Customer&#39;s city</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td>string</td>
<td>user</td>
<td>Customer&#39;s state, if any</td>
</tr>
<tr>
<td><strong>postalCode</strong></td>
<td>string</td>
<td>user</td>
<td>Customer&#39;s postal code, if any</td>
</tr>
<tr>
<td><strong>country</strong></td>
<td>string</td>
<td>user</td>
<td>Customer&#39;s ISO country identifier</td>
</tr>
<tr>
<td><strong>locale</strong></td>
<td>string</td>
<td>user</td>
<td>ISO locale code for customer language</td>
</tr>
<tr>
<td><strong>timeZone</strong></td>
<td>string</td>
<td>user</td>
<td>Descriptor for the customer&#39;s time zone. Used by the system to make any required transformation from <code>DateTime</code> to <code>LocalDate</code></td>
</tr>
<tr>
<td><strong>phone</strong></td>
<td>string</td>
<td>user</td>
<td>Phone contact number to reach the customer</td>
</tr>
<tr>
<td><strong>email</strong></td>
<td>string</td>
<td>user</td>
<td>Primary email to reach the customer</td>
</tr>
<tr>
<td><strong>notes</strong></td>
<td>string</td>
<td>user</td>
<td>Additonal notes about the customer, usually set by the customer service department</td>
</tr>
<tr>
<td><strong>isMigrated</strong></td>
<td>boolean</td>
<td>user</td>
<td>Indicates whether this account has been migrated from another system</td>
</tr>
<tr>
<td><strong>accountCBA</strong></td>
<td>integer</td>
<td>system</td>
<td>Account credit, if any</td>
</tr>
<tr>
<td><strong>accountBalance</strong></td>
<td>integer</td>
<td>system</td>
<td>Account balance, if any</td>
</tr>
<tr>
<td><strong>auditLogs</strong></td>
<td>array</td>
<td>system</td>
<td>Array of audit log records for this account</td>
</tr>
</tbody></table>

<p>The <strong>name</strong> is usually the personal name of the account owner. We recommend that this be entered so that the first word is an acceptable short form for the complete name, such as &quot;first name&quot; in most English-speaking cultures. In this case the value <strong>firstNameLength</strong> enables your code to extract this part of the name for informal greetings. For information on name formats in various countries see <a href="https://www.w3.org/International/questions/qa-personal-names">Personal Names around the World</a> by the W3C.</p>

<p>A list of valid <strong>timeZone</strong> strings is given at <a href="https://github.com/rails/rails/blob/23b4aa505d04731c7890e19e8f8996869526f5b3/activesupport/lib/active_support/values/time_zone.rb#L31-L183">timezone strings</a>.</p>

<p>For information about migrating accounts from a previous system see the <a href="http://docs.killbill.io/latest/migration_guide.html">Migration Guide</a>.</p>
<h2 id='accounts'>Accounts</h2><h3 id='create-an-account'>Create an Account</h3>
<p>Create a new customer <code>Account</code>.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>POST http://127.0.0.1:8080/1.0/kb/accounts</code> </p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{ "name": "John Doe", "email": "john@laposte.com", "currency": "USD"}'</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts"</span> 
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="nc">Account</span> <span class="n">body</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Account</span><span class="o">();</span>
<span class="n">body</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"John Doe"</span><span class="o">);</span>
<span class="n">body</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"john@laposte.com"</span><span class="o">);</span>
<span class="n">body</span><span class="o">.</span><span class="na">setCurrency</span><span class="o">(</span><span class="nc">Currency</span><span class="o">.</span><span class="na">USD</span><span class="o">);</span>

<span class="nc">Account</span> <span class="n">result</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">createAccount</span><span class="o">(</span><span class="n">body</span><span class="o">,</span> <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">account</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s2">"John Doe"</span>
<span class="n">account</span><span class="p">.</span><span class="nf">email</span> <span class="o">=</span> <span class="s2">"john@laposte.com"</span>
<span class="n">account</span><span class="p">.</span><span class="nf">currency</span> <span class="o">=</span> <span class="s2">"USD"</span>

<span class="n">account</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">reason</span><span class="p">,</span> <span class="n">comment</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">body</span> <span class="o">=</span> <span class="n">Account</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'John Doe'</span><span class="p">,</span> 
               <span class="n">email</span><span class="o">=</span><span class="s">'john@laposte.com'</span><span class="p">,</span> 
               <span class="n">currency</span><span class="o">=</span><span class="s">'USD'</span><span class="p">)</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">create_account</span><span class="p">(</span><span class="n">body</span><span class="p">,</span>
                          <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                          <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                          <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">Account</span> <span class="o">=</span> <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">John Doe</span><span class="dl">'</span><span class="p">,</span><span class="na">email</span><span class="p">:</span> <span class="dl">'</span><span class="s1">john1@laposte.com</span><span class="dl">'</span><span class="p">,</span><span class="na">currency</span><span class="p">:</span> <span class="dl">'</span><span class="s1">USD</span><span class="dl">'</span><span class="p">};</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">createAccount</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>

<span class="nv">$account</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Account</span><span class="p">();</span>

<span class="nv">$account</span><span class="o">-&gt;</span><span class="nf">setName</span><span class="p">(</span><span class="s1">'TestPHPAccount'</span><span class="p">);</span>
<span class="nv">$account</span><span class="o">-&gt;</span><span class="nf">setEmail</span><span class="p">(</span><span class="s1">'TestPHPAccount@email.com'</span><span class="p">);</span>
<span class="nv">$account</span><span class="o">-&gt;</span><span class="nf">setCurrency</span><span class="p">(</span><span class="s1">'USD'</span><span class="p">);</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">createAccount</span><span class="p">(</span><span class="nv">$account</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Request Body</strong></p>

<p>The body of the request is a JSON string specifying any attributes of the resource that need to be assigned an initial value. No attributes are required. For any attributes omitted, the following defaults are generated:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>accountId</strong></td>
<td>System generated UUID</td>
</tr>
<tr>
<td><strong>externalKey</strong></td>
<td>Copy of <strong>accountId</strong></td>
</tr>
<tr>
<td><strong>billCycleDayLocal</strong></td>
<td>0</td>
</tr>
<tr>
<td><strong>isPaymentDelegatedToParent</strong></td>
<td>false</td>
</tr>
<tr>
<td><strong>referenceTime</strong></td>
<td>ISO time-date code for the current time in the specified timezone</td>
</tr>
<tr>
<td><strong>timeZone</strong></td>
<td>&quot;UTC&quot;</td>
</tr>
<tr>
<td>all others</td>
<td>null</td>
</tr>
</tbody></table>

<p>All attributes are optional, so it is possible to quickly create a shell account. This account could be used for test purposes, so its attributes can be filled in later. This also ensures the initial account contains no PII. Note, however, that the <code>currency</code> attribute must have a non-null value. This cannot be added later and is required for invoicing to work properly.</p>

<p>A few fields are not updatable; they can only be set once when creating the original <code>Account</code>. These include  <code>externalKey</code>, <code>currency</code>, <code>timeZone</code>, and <code>referenceTime</code>. In addition the <code>billCycleDayLocal</code> can be updated but only <strong>once</strong>, that is one can create an <code>Account</code> without specifying the <code>billCycleDayLocal</code> and later update its value; this, in particular allows the system to update its value to a good default, that is one that will avoid leading prorations, when creating the first subscription.</p>

<p>The <code>accountId</code> and audit logs are generated by the system and cannot be set or modified by the user.</p>

<p>In order to create an account as a child account, the <code>parentAccountId</code> attribute needs to be specified with the <code>id</code> of the parent account. Also, the <code>isPaymentDelegatedToParent</code> attribute can be specified with a true/false value. A <code>false</code> indicates that the child account will be responsible for paying its own invoices while a <code>true</code> indicates that the parent account will be responsible for paying the child account invoices. </p>

<p><strong>Query Parameters</strong></p>

<p>none</p>

<p><strong>Response</strong></p>

<p>If successful, returns a 201 status code. In addition, a <code>Location</code> header is returned giving the URL for the account object, including the generated <code>accountId</code>.</p>
<h3 id='retrieve-an-account-by-its-id'>Retrieve an Account by its ID</h3>
<p>Retrieves the full resource object for an <code>Account</code> using its <code>accountId</code>.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/36c05a84-563b-4794-8958-772d93e677e1"</span> 
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"36c05a84-563b-4794-8958-772d93e677e1"</span><span class="o">);</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalance</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include account balance</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalanceAndCBA</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include account balance and CBA info</span>

<span class="nc">Account</span> <span class="n">result</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccount</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                       <span class="n">accountWithBalance</span><span class="o">,</span> 
                                       <span class="n">accountWithBalanceAndCBA</span><span class="o">,</span> 
                                       <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span> 
                                       <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account_id</span> <span class="o">=</span> <span class="s2">"36c05a84-563b-4794-8958-772d93e677e1"</span>
<span class="n">with_balance</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">with_balance_and_cba</span> <span class="o">=</span> <span class="kp">false</span>

<span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span>

<span class="n">accountResponse</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span> <span class="n">account_id</span><span class="p">,</span>
                                      <span class="n">with_balance</span><span class="p">,</span> 
                                      <span class="n">with_balance_and_cba</span><span class="p">,</span>
                                      <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'36c05a84-563b-4794-8958-772d93e677e1'</span>

<span class="n">account</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">36c05a84-563b-4794-8958-772d93e677e1</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">Account</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccount</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'36c05a84-563b-4794-8958-772d93e677e1'</span><span class="p">;</span>

<span class="nv">$account</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAccount</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36c05a84-563b-4794-8958-772d93e677e1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"firstNameLength"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36c05a84-563b-4794-8958-772d93e677e1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@laposte.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"billCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isPaymentDelegatedToParent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"referenceTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-08T16:31:16.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isMigrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountBalance"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountCBA"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>accountWithBalance</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, returns <code>accountBalance</code> info</td>
</tr>
<tr>
<td><strong>accountWithBalanceAndCBA</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, returns <code>accountBalance</code> and <code>accountCBA</code> info</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and an account object in the response body.</p>
<h3 id='retrieve-an-account-by-its-external-key'>Retrieve an Account by its external key</h3>
<p>Retrieves the resource object for an <code>Account</code> using its <code>externalKey</code> as an identifier.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts?externalKey=36c05a84-563b-4794-8958-772d93e677e1"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="nc">String</span> <span class="n">externalKey</span> <span class="o">=</span> <span class="s">"36c05a84-563b-4794-8958-772d93e677e1"</span><span class="o">;</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalance</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include account balance</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalanceAndCBA</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include account balance and CBA info</span>

<span class="nc">Account</span> <span class="n">result</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccountByKey</span><span class="o">(</span><span class="n">externalKey</span><span class="o">,</span> 
                                            <span class="n">accountWithBalance</span><span class="o">,</span> 
                                            <span class="n">accountWithBalanceAndCBA</span><span class="o">,</span> 
                                            <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span> 
                                            <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">external_key</span> <span class="o">=</span> <span class="s1">'36c05a84-563b-4794-8958-772d93e677e1'</span>
<span class="n">with_balance</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">with_balance_and_cba</span> <span class="o">=</span> <span class="kp">false</span>

<span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span>

<span class="n">accountResponse</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">find_by_external_key</span><span class="p">(</span> <span class="n">external_key</span><span class="p">,</span>
                                                <span class="n">with_balance</span><span class="p">,</span>
                                                <span class="n">with_balance_and_cba</span><span class="p">,</span> 
                                                <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">external_key</span> <span class="o">=</span> <span class="s">'36c05a84-563b-4794-8958-772d93e677e1'</span>

<span class="n">account</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account_by_key</span><span class="p">(</span><span class="n">external_key</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">externalKey</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">external_key</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">Account</span><span class="p">,</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccountByKey</span><span class="p">(</span><span class="nx">externalKey</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$externalKey</span> <span class="o">=</span> <span class="s1">'external_key'</span><span class="p">;</span>

<span class="nv">$account</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAccountByKey</span><span class="p">(</span><span class="nv">$externalKey</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36c05a84-563b-4794-8958-772d93e677e1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"firstNameLength"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36c05a84-563b-4794-8958-772d93e677e1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@laposte.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"billCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isPaymentDelegatedToParent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"referenceTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-08T16:31:16.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isMigrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountBalance"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountCBA"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>externalKey</strong></td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>External key to be used for retrieval</td>
</tr>
<tr>
<td><strong>accountWithBalance</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, returns <code>accountBalance</code> info</td>
</tr>
<tr>
<td><strong>accountWithBalanceAndCBA</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, returns <code>accountBalance</code> and <code>accountCBA</code> info</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and an account object in the response body.</p>
<h3 id='update-an-account'>Update an Account</h3>
<p>Updates selected attributes in an account object. Note that the following fields are not updatable; they can only be set once when creating the original <code>Account</code>:  <code>externalKey</code>, <code>currency</code>, <code>timeZone</code>, and <code>referenceTime</code>. In addition, the <code>billCycleDayLocal</code> can be updated but only <strong>once</strong>, that is, one can create an <code>Account</code> without specifying the <code>billCycleDayLocal</code> and later update its value. This, allows the system to update its value to a good default, that is one that will avoid leading prorations, when creating the first subscription. Also, the audit logs cannot be changed.</p>

<p>The updates are passed in the request body, as an object that only needs to contain the attributes to be changed. Any attribute omitted from the request body will remain unchanged.</p>

<p>If the boolean query parameter <strong>treatNullAsReset</strong> is <code>true</code>, any attribute specified as <code>null</code> in the request will be set to null. If the parameter is <code>false</code>, any attribute specified as <code>null</code> in the request will remain unchanged.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>PUT http://127.0.0.1:8080/1.0/kb/accounts/{accountId}</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{ "name": "Another Name"}'</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d"</span>    
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"864c1418-e768-4cd5-a0db-67537144b685"</span><span class="o">);</span>

<span class="nc">Account</span> <span class="n">body</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Account</span><span class="o">();</span>
<span class="n">body</span><span class="o">.</span><span class="na">setAccountId</span><span class="o">(</span><span class="n">accountId</span><span class="o">);</span>
<span class="n">body</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Another Name"</span><span class="o">);</span>

<span class="nc">Boolean</span> <span class="n">treatNullAsReset</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// any attribute with a null value in the request body will be unchanged</span>
                                  <span class="c1">// If set to true, you will need to explicitly set the externalKey, currency and timezone fields to their original values, otherwise a KillBillClientException will occur.</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">updateAccount</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                         <span class="n">body</span><span class="o">,</span> 
                         <span class="n">treatNullAsReset</span><span class="o">,</span>
                         <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s2">"07c0cef4-41c5-4606-b2cd-661332cdd41c"</span>
<span class="n">account</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s1">'Another Name'</span>

<span class="n">treat_null_as_reset</span> <span class="o">=</span> <span class="kp">false</span>

<span class="n">account</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">treat_null_as_reset</span><span class="p">,</span><span class="n">user</span><span class="p">,</span><span class="n">reason</span><span class="p">,</span><span class="n">comment</span><span class="p">,</span><span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span>

<span class="n">body</span> <span class="o">=</span> <span class="n">Account</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'Another Name'</span><span class="p">)</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">update_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                          <span class="n">body</span><span class="p">,</span>
                          <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                          <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                          <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">Account</span> <span class="o">=</span> <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Another Name</span><span class="dl">'</span><span class="p">};</span> 

<span class="nx">api</span><span class="p">.</span><span class="nx">updateAccount</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="dl">'</span><span class="s1">07c0cef4-41c5-4606-b2cd-661332cdd41c</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>

<span class="nv">$account</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Account</span><span class="p">();</span>

<span class="nv">$account</span><span class="o">-&gt;</span><span class="nf">setName</span><span class="p">(</span><span class="s1">'Another Name'</span><span class="p">);</span>
<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">updateAccount</span><span class="p">(</span><span class="nv">$account</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>treatNullAsReset</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, any attribute with a null value in the request body will be set to <code>null</code>. If false, any attribute with a null value in the request body will be unchanged.</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 204 and an empty body..</p>
<h3 id='close-account'>Close account</h3>
<p>This endpoint can be used when no other state change will occur on this <code>Account</code> to bring it to a stable state. Depending on the value of the query parameters it will potentially cancel all active subscriptions, write-off unpaid invoices, etc. <strong>This endpoint is not for account deletion</strong>. We provide no support to remove state through APIs; such deletion operations, if really needed, would have to happen at the database level and are not encouraged. They can be tricky to get right.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>DELETE http://127.0.0.1:8080/1.0/kb/accounts/{accountId}</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> DELETE <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/8785164f-b5d7-4da1-9495-33f5105e8d80"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"864c1418-e768-4cd5-a0db-67537144b685"</span><span class="o">);</span>
<span class="nc">Boolean</span> <span class="n">cancelAllSubscriptions</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span> <span class="c1">// Will cancel all subscriptions</span>
<span class="nc">Boolean</span> <span class="n">writeOffUnpaidInvoices</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span> <span class="c1">// Will write off unpaid invoices</span>
<span class="nc">Boolean</span> <span class="n">itemAdjustUnpaidInvoices</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not adjust unpaid invoices</span>
<span class="nc">Boolean</span> <span class="n">removeFutureNotifications</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span> <span class="c1">// Will remove future notifications </span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">closeAccount</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                        <span class="n">cancelAllSubscriptions</span><span class="o">,</span> 
                        <span class="n">writeOffUnpaidInvoices</span><span class="o">,</span> 
                        <span class="n">itemAdjustUnpaidInvoices</span><span class="o">,</span> 
                        <span class="n">removeFutureNotifications</span><span class="o">,</span> 
                        <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s2">"864c1418-e768-4cd5-a0db-67537144b685"</span>

<span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">cancel_subscriptions</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">writeoff_unpaid_invoices</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">item_adjust_unpaid_invoices</span> <span class="o">=</span> <span class="kp">false</span>

<span class="n">account</span><span class="p">.</span><span class="nf">close</span><span class="p">(</span><span class="n">cancel_subscriptions</span><span class="p">,</span> 
              <span class="n">writeoff_unpaid_invoices</span><span class="p">,</span> 
              <span class="n">item_adjust_unpaid_invoices</span><span class="p">,</span>
              <span class="n">user</span><span class="p">,</span>
              <span class="n">reason</span><span class="p">,</span>
              <span class="n">comment</span><span class="p">,</span> 
              <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">close_account</span><span class="p">(</span> <span class="n">account_id</span><span class="p">,</span>
                          <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                          <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                          <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">07c0cef4-41c5-4606-b2cd-661332cdd41c</span><span class="dl">'</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">closeAccount</span><span class="p">(</span><span class="nx">accountID</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">closeAccount</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">);</span>
</code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>cancelAllSubscriptions</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, cancel all subscriptions</td>
</tr>
<tr>
<td><strong>writeOffUnpaidInvoices</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, write off unpaid invoices</td>
</tr>
<tr>
<td><strong>itemAdjustUnpaidInvoices</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, adjust unpaid invoices</td>
</tr>
<tr>
<td><strong>removeFutureNotifications</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, remove future notifications</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>IF successful, returns a status code of 204 and an empty body.</p>
<h2 id='list-and-search'>List and Search</h2>
<p>These endpoints allow you to list all accounts or to search for a specific account. </p>
<h3 id='list-accounts'>List accounts</h3>
<p>Retrieve a list of all account records.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/pagination</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/pagination"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="nc">Long</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">0L</span><span class="o">;</span>
<span class="nc">Long</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalance</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include account balance</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalanceAndCBA</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include account balance and CBA info</span>

<span class="nc">Accounts</span> <span class="n">allAccounts</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccounts</span><span class="o">(</span><span class="n">offset</span><span class="o">,</span>
                                              <span class="n">limit</span><span class="o">,</span>
                                              <span class="n">accountWithBalance</span><span class="o">,</span>
                                              <span class="n">accountWithBalanceAndCBA</span><span class="o">,</span>
                                              <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span>
                                              <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span>

<span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">with_balance</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">with_balance_and_cba</span> <span class="o">=</span> <span class="kp">false</span>

<span class="n">allAccounts</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">find_in_batches</span><span class="p">(</span> <span class="n">offset</span><span class="p">,</span>
                                       <span class="n">limit</span><span class="p">,</span>
                                       <span class="n">with_balance</span><span class="p">,</span>
                                       <span class="n">with_balance_and_cba</span><span class="p">,</span>
                                       <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">allAccounts</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_accounts</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">Account</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccounts</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accounts</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAccounts</span><span class="p">();</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e60a79de-0d4c-4aeb-82e9-7695fe393b81"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e60a79de-0d4c-4aeb-82e9-7695fe393b81"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"referenceTime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dayOfYear"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
        </span><span class="nl">"equalNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"weekyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">2023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chronology"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"weekOfWeekyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"secondOfMinute"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w">
        </span><span class="nl">"millisOfDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">61959000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"monthOfYear"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dayOfWeek"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"beforeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minuteOfDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1032</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dayOfMonth"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"era"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"yearOfCentury"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
        </span><span class="nl">"centuryOfEra"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hourOfDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="nl">"secondOfDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">61959</span><span class="p">,</span><span class="w">
        </span><span class="nl">"millis"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678122759000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"yearOfEra"</span><span class="p">:</span><span class="w"> </span><span class="mi">2023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minuteOfHour"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"millisOfSecond"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"afterNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentDelegatedToParent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@laposte.com"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"paginationNextOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paginationNextPageUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/1.0/kb/accounts/pagination?offset=1&amp;limit=1&amp;accountWithBalanceAndCBA=false&amp;accountWithBalance=false&amp;audit=NONE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paginationMaxNbRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"killBillHttpClient"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"paginationCurrentOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paginationTotalNbRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"empty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>offset</strong></td>
<td>long</td>
<td>false</td>
<td>0</td>
<td>Starting index for items listed</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>long</td>
<td>false</td>
<td>100</td>
<td>Maximum number of items to be listed</td>
</tr>
<tr>
<td><strong>accountWithBalance</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, returns <code>accountBalance</code> info</td>
</tr>
<tr>
<td><strong>accountWithBalanceAndCBA</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, returns <code>accountBalance</code> and <code>accountCBA</code> info</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of all accounts.</p>
<h3 id='search-accounts'>Search accounts</h3>
<p>Search for an account by a specified search string. The search string is compared to the following attributes: <code>accountId</code>, <code>name</code>, <code>email</code>, <code>companyName</code>, and <code>externalKey</code>. The operation returns the account record in which the search string matches all or part of any one of the attributes <code>name</code>, <code>email</code>, <code>companyName</code>, <code>externalKey</code>. However, the string must match the entire attribute in case of <code>accountId</code>. </p>

<p>For example : An account with <code>name</code> <em>exampleaccount</em> can be searched using <em>example</em> as the search string. However, an account with <code>accountId</code> <em>9254283b-be25-45f1-97c3-b902f4d18bab</em> cannot be searched using only <em>9254283b</em> as the search string.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/search/{searchKey}</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/search/John%20Doe"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="nc">String</span> <span class="n">searchKey</span> <span class="o">=</span> <span class="s">"John"</span><span class="o">;</span>
<span class="nc">Long</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">0L</span><span class="o">;</span>
<span class="nc">Long</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalance</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include account balance</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalanceAndCBA</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include account balance and CBA info</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Account</span><span class="o">&gt;</span> <span class="n">accountsByKey</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">searchAccounts</span><span class="o">(</span><span class="n">searchKey</span><span class="o">,</span> 
                                                        <span class="n">offset</span><span class="o">,</span>
                                                        <span class="n">limit</span><span class="o">,</span>
                                                        <span class="n">accountWithBalance</span><span class="o">,</span>
                                                        <span class="n">accountWithBalanceAndCBA</span><span class="o">,</span>
                                                        <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span>
                                                        <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span>

<span class="n">search_key</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">with_balance</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">with_balance_and_cba</span> <span class="o">=</span> <span class="kp">false</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">find_in_batches_by_search_key</span><span class="p">(</span> <span class="n">search_key</span><span class="p">,</span>
                                                  <span class="n">offset</span><span class="p">,</span>
                                                  <span class="n">limit</span><span class="p">,</span>
                                                  <span class="n">with_balance</span><span class="p">,</span>
                                                  <span class="n">with_balance_and_cba</span><span class="p">,</span>
                                                  <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">search_key</span> <span class="o">=</span> <span class="s">'John'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">search_accounts</span><span class="p">(</span><span class="n">search_key</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">searchKey</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">search_key</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">Account</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">searchAccounts</span><span class="p">(</span><span class="nx">searchKey</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$searchKey</span> <span class="o">=</span> <span class="s1">'search_key'</span><span class="p">;</span>

<span class="nv">$accounts</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">searchAccounts</span><span class="p">(</span><span class="nv">$searchKey</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc693517-9ede-4543-a184-9e6f21119584"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc693517-9ede-4543-a184-9e6f21119584"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"referenceTime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dayOfYear"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
        </span><span class="nl">"equalNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"weekyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">2023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chronology"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"weekOfWeekyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"secondOfMinute"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
        </span><span class="nl">"millisOfDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">62241000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"monthOfYear"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dayOfWeek"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"beforeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minuteOfDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1037</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dayOfMonth"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"era"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"yearOfCentury"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hourOfDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="nl">"centuryOfEra"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nl">"secondOfDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">62241</span><span class="p">,</span><span class="w">
        </span><span class="nl">"millis"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678123041000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"yearOfEra"</span><span class="p">:</span><span class="w"> </span><span class="mi">2023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minuteOfHour"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="nl">"millisOfSecond"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"afterNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentDelegatedToParent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@laposte.com"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"paginationNextOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paginationNextPageUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/1.0/kb/accounts/search/John?offset=1&amp;limit=1&amp;accountWithBalanceAndCBA=false&amp;accountWithBalance=false&amp;audit=NONE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paginationMaxNbRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"killBillHttpClient"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"paginationCurrentOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paginationTotalNbRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"empty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>searchKey</strong></td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>What you want to find</td>
</tr>
<tr>
<td><strong>offset</strong></td>
<td>long</td>
<td>false</td>
<td>0</td>
<td>Starting index for items listed</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>long</td>
<td>false</td>
<td>100</td>
<td>Maximum number of items to return on this page</td>
</tr>
<tr>
<td><strong>accountWithBalance</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, returns <code>accountBalance</code> info</td>
</tr>
<tr>
<td><strong>accountWithBalanceAndCBA</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, returns <code>accountBalance</code> and <code>accountCBA</code> info</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of accounts that contain a match for the specified search key.</p>
<h2 id='email'>Email</h2>
<p>These endpoints manage emails associated with a customer account. <strong>These are secondary emails, distinct from the <code>email</code> attribute in the <code>account</code> object.</strong> It is possible to have
several such emails for one customer account.</p>
<h3 id='add-account-email'>Add account email</h3>
<p>Add an email to an account. Existing emails are undisturbed.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>POST http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/emails</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{ "accountId": "2ad52f53-85ae-408a-9879-32a7e59dd03d", "email": "email@laposte.com"}'</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/emails"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"873c26ef-a3fa-4942-b2f5-549b51f20b1a"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">email</span> <span class="o">=</span> <span class="s">"email@laposte.com"</span><span class="o">;</span>

<span class="nc">AccountEmail</span> <span class="n">accountEmail</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AccountEmail</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span>
                                             <span class="n">email</span><span class="o">,</span>
                                             <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">);</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">addEmail</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span>
                    <span class="n">accountEmail</span><span class="o">,</span>
                    <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'873c26ef-a3fa-4942-b2f5-549b51f20b1a'</span>

<span class="n">email</span> <span class="o">=</span> <span class="s1">'email@laposte.com'</span>

<span class="n">account</span><span class="p">.</span><span class="nf">add_email</span><span class="p">(</span><span class="n">email</span><span class="p">,</span>
                  <span class="n">user</span><span class="p">,</span>
                  <span class="n">reason</span><span class="p">,</span>
                  <span class="n">comment</span><span class="p">,</span>
                  <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'c84de569-b654-4f7f-ab13-17616302d310'</span>
<span class="n">body</span> <span class="o">=</span> <span class="n">AccountEmail</span><span class="p">(</span><span class="n">account_id</span><span class="o">=</span><span class="n">account_id</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s">'email@laposte.com'</span><span class="p">)</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">add_email</span><span class="p">(</span> <span class="n">account_id</span><span class="p">,</span>
                      <span class="n">body</span><span class="p">,</span>
                      <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                      <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                      <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountEmail</span> <span class="o">=</span> <span class="p">{</span> <span class="na">email</span><span class="p">:</span> <span class="dl">'</span><span class="s1">email@laposte.com</span><span class="dl">'</span> <span class="p">};</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">addEmail</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="dl">'</span><span class="s1">03fc2b57-06be-4691-a260-c897d5c1e13e</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>

<span class="nv">$accountEmail</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AccountEmail</span><span class="p">();</span>

<span class="nv">$accountEmail</span><span class="o">-&gt;</span><span class="nf">setEmail</span><span class="p">(</span><span class="s1">'email@laposte.com'</span><span class="p">);</span>
<span class="nv">$accountEmail</span><span class="o">-&gt;</span><span class="nf">setAccountId</span><span class="p">(</span><span class="s1">'03fc2b57-06be-4691-a260-c897d5c1e13e'</span><span class="p">);</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'03fc2b57-06be-4691-a260-c897d5c1e13e'</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">addEmail</span><span class="p">(</span><span class="nv">$accountEmail</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Request Body</strong></p>

<p>The request body identifies a subset of the <code>account</code> attributes as a JSON string. The attributes required are <code>accountId</code> and <code>email</code> (the email to be added). <code>accountId</code> is required in the body even though it is given in the path. No other attributes should be included.</p>

<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a 201 status code. In addition, a <code>Location</code> header is returned giving the URL for the account object, including the <code>accountId</code>.</p>
<h3 id='retrieve-account-emails'>Retrieve account emails</h3>
<p>Retrieves all emails for an account</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/emails</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/emails"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"cd026587-c93b-471c-a98d-224c21636fbc"</span><span class="o">);</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">AccountEmail</span><span class="o">&gt;</span> <span class="n">emails</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getEmails</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'cd026587-c93b-471c-a98d-224c21636fbc'</span>

<span class="n">audit</span> <span class="o">=</span> <span class="s1">'NONE'</span>

<span class="n">accountEmails</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">emails</span><span class="p">(</span><span class="n">audit</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'c8f51346-562d-429b-8c89-27a0f72009b3'</span>

<span class="n">accountEmails</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_emails</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">f7fde238-850a-4a7b-b075-48b582ee3495</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountEmail</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getEmails</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'f7fde238-850a-4a7b-b075-48b582ee3495'</span><span class="p">;</span>

<span class="nv">$emails</span>  <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getEmails</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"e4ca38b3-934d-42e8-a292-ffb0af5549f2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="s2">"email@laposte.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Response Body</strong></p>

<p>If successful, returns a status code of 200 and a list of objects giving the account id and the emails. Note that this is not the full object for each email, and does not include the email ID. This can be obtained only from the account audit log.</p>
<h3 id='delete-email'>Delete email</h3>
<p>Deletes an email from an account</p>

<p><strong>HTTP Request</strong> </p>

<p><code>DELETE http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/emails/{email}</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> DELETE <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/emails/email@laposte.com"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"873c26ef-a3fa-4942-b2f5-549b51f20b1a"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">email</span> <span class="o">=</span> <span class="s">"email@laposte.com"</span><span class="o">;</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">removeEmail</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                       <span class="n">email</span><span class="o">,</span> 
                       <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'f755e6a9-cf56-4776-9455-3df350b72f6d'</span>

<span class="n">email</span> <span class="o">=</span> <span class="s1">'email@laposte.com'</span>

<span class="n">account</span><span class="p">.</span><span class="nf">remove_email</span><span class="p">(</span><span class="n">email</span><span class="p">,</span>
                     <span class="n">user</span><span class="p">,</span>
                     <span class="n">reason</span><span class="p">,</span>
                     <span class="n">comment</span><span class="p">,</span>
                     <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'c84de569-b654-4f7f-ab13-17616302d310'</span>
<span class="n">email</span> <span class="o">=</span> <span class="s">'email@laposte.com'</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">remove_email</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                        <span class="n">email</span><span class="p">,</span>
                        <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                        <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                        <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">be484bff-58dc-4ceb-906f-61dc9e317b0f</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">email</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">email@laposte.com</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">removeEmail</span><span class="p">(</span><span class="nx">accountID</span><span class="p">,</span><span class="nx">email</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'be484bff-58dc-4ceb-906f-61dc9e317b0f'</span><span class="p">;</span>
<span class="nv">$accountEmail</span> <span class="o">=</span> <span class="s1">'email@laposte.com'</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">removeEmail</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$accountEmail</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 204 and without any data.</p>
<h2 id='bundle'>Bundle</h2>
<p>This endpoint provides an API to list the Bundles associated with this account. A Bundle is a set of Subscriptions and related information. See <a href="bundle.html">Bundle</a> for details on Bundles.</p>
<h3 id='retrieve-bundles-for-account'>Retrieve bundles for account</h3>
<p>This endpoint is used to list all <code>Bundles</code> associated with this account. It is possible to limit the list to a specific Bundle external key, or to a list of Bundle Ids.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/bundles</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/bundles"</span> 
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"15434b45-54c1-4a44-851c-b1f2f7a52f03"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">externalKey</span> <span class="o">=</span> <span class="s">"123467"</span><span class="o">;</span> <span class="c1">//use null to fetch all bundles</span>
<span class="nc">String</span> <span class="n">bundlesFilter</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Bundle</span><span class="o">&gt;</span> <span class="n">accountBundles</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccountBundles</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                                           <span class="n">externalKey</span><span class="o">,</span> 
                                                           <span class="n">bundlesFilter</span><span class="o">,</span>
                                                           <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span>
                                                           <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'15434b45-54c1-4a44-851c-b1f2f7a52f03'</span>

<span class="n">accountBundles</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">bundles</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'8992e146-bfa1-4126-a045-98b844a4adcb'</span>

<span class="n">accountBundles</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account_bundles</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">8992e146-bfa1-4126-a045-98b844a4adcb</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">Bundle</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccountBundles</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'8992e146-bfa1-4126-a045-98b844a4adcb'</span><span class="p">;</span>

<span class="nv">$bundles</span>  <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getAccountBundles</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bundleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bundleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8ab101b6-15e8-433b-b4f7-f99eeaa56a77"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"productName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BASE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRIAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"planName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NATIVE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cancelledDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chargedThroughDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billingStartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billingEndDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3961e5a4-815c-4e95-aca6-2f3e76c37942"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_ENTITLEMENT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement-service"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENT_STARTED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e7a6a7d-7660-49e3-979c-a4a0b6ec6804"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"billing-service"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f058c95f-9a86-435b-8bba-4f8532635450"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-17"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHASE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement+billing-service"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHASE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"planName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phaseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRIAL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fixedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"usagePrices"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"planName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phaseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EVERGREEN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fixedPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"usagePrices"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"timeline"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bundleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3961e5a4-815c-4e95-aca6-2f3e76c37942"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_ENTITLEMENT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement-service"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENT_STARTED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e7a6a7d-7660-49e3-979c-a4a0b6ec6804"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"billing-service"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f058c95f-9a86-435b-8bba-4f8532635450"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-17"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHASE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement+billing-service"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHASE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>externalKey</strong></td>
<td>string</td>
<td>false</td>
<td>return all bundles</td>
<td>Bundle external key; if present, return only bundles with this key.</td>
</tr>
<tr>
<td><strong>bundlesFilter</strong></td>
<td>string</td>
<td>false</td>
<td>return all bundles</td>
<td>Comma separated list of bundle ids to return, if found.</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Returns</strong></p>

<p>If successful, returns a status code of 200 and a list of bundle objects.</p>
<h3 id='retrieve-paginated-bundles-for-account'>Retrieve paginated bundles for account</h3>
<p>This endpoint is used to list all <code>Bundles</code> associated with this account in a paginated format.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/bundles/pagination</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/325fbe1c-7c35-4d96-a4e5-2cbaabe218c6/bundles/pagination"</span> 
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"325fbe1c-7c35-4d96-a4e5-2cbaabe218c6"</span><span class="o">);</span>
<span class="nc">Long</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">0L</span><span class="o">;</span>
<span class="nc">Long</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">10L</span><span class="o">;</span>       

<span class="nc">Bundles</span> <span class="n">bundles</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccountBundlesPaginated</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> <span class="n">offset</span><span class="o">,</span> <span class="n">limit</span><span class="o">,</span> <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span> <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'15434b45-54c1-4a44-851c-b1f2f7a52f03'</span>

<span class="n">accountBundles</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">bundles</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'8992e146-bfa1-4126-a045-98b844a4adcb'</span>

<span class="n">accountBundles</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account_bundles_paginated</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">8992e146-bfa1-4126-a045-98b844a4adcb</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">Bundle</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccountBundlesPaginated</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'8992e146-bfa1-4126-a045-98b844a4adcb'</span><span class="p">;</span>

<span class="nv">$bundles</span>  <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getAccountBundlesPaginated</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bundleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bundleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8ab101b6-15e8-433b-b4f7-f99eeaa56a77"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"productName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BASE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRIAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"planName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NATIVE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cancelledDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chargedThroughDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billingStartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billingEndDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3961e5a4-815c-4e95-aca6-2f3e76c37942"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_ENTITLEMENT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement-service"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENT_STARTED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e7a6a7d-7660-49e3-979c-a4a0b6ec6804"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"billing-service"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f058c95f-9a86-435b-8bba-4f8532635450"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-17"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHASE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement+billing-service"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHASE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"planName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phaseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRIAL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fixedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"usagePrices"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"planName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phaseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EVERGREEN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fixedPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"usagePrices"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"timeline"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bundleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2cd2f4b5-a1c0-42a7-924f-64c7b791332d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3961e5a4-815c-4e95-aca6-2f3e76c37942"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_ENTITLEMENT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement-service"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENT_STARTED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e7a6a7d-7660-49e3-979c-a4a0b6ec6804"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"billing-service"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-trial"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f058c95f-9a86-435b-8bba-4f8532635450"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-17"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHASE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement+billing-service"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHASE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>offset</strong></td>
<td>long</td>
<td>false</td>
<td>0</td>
<td>Starting index for items listed</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>long</td>
<td>false</td>
<td>100</td>
<td>Maximum number of items to be listed</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Returns</strong></p>

<p>If successful, returns a status code of 200 and a list of bundle objects.</p>
<h2 id='invoice'>Invoice</h2>
<p>This endpoint provides an API to list the Invoices associated with this account. See section <a href="invoice.html">Invoice</a> for details on invoices.</p>
<h3 id='retrieve-account-invoices'>Retrieve account invoices</h3>
<p>List the Invoices associated with this account.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/invoices</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/invoices"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"d3a82897-ae72-4a2e-9bca-e3c1fe087f84"</span><span class="o">);</span>
<span class="nc">LocalDate</span> <span class="n">startDate</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">LocalDate</span> <span class="n">endDate</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">Boolean</span> <span class="n">withMigrationInvoices</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not fetch migrated invoice - if any</span>
<span class="nc">Boolean</span> <span class="n">unpaidInvoicesOnly</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not restrict to unpaid invoices</span>
<span class="nc">Boolean</span> <span class="n">includeVoidedInvoices</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include void invoices</span>
<span class="nc">Boolean</span> <span class="n">includeInvoiceComponents</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">//Will not include invoice components like invoice items/payments, etc.</span>
<span class="nc">String</span> <span class="n">invoicesFilter</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">Invoices</span> <span class="n">invoices</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getInvoicesForAccount</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span>
                                                      <span class="n">startDate</span><span class="o">,</span> 
                                                      <span class="n">endDate</span><span class="o">,</span>
                                                      <span class="n">withMigrationInvoices</span><span class="o">,</span>
                                                      <span class="n">unpaidInvoicesOnly</span><span class="o">,</span>
                                                      <span class="n">includeVoidedInvoices</span><span class="o">,</span>
                                                      <span class="n">includeInvoiceComponents</span><span class="o">,</span>
                                                      <span class="n">invoicesFilter</span><span class="o">,</span>
                                                      <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">FULL</span><span class="o">,</span>
                                                      <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'82ecbf80-ddd2-4208-92be-2d3b2b7fc266'</span>

<span class="n">accountInvoices</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">invoices</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'82ecbf80-ddd2-4208-92be-2d3b2b7fc266'</span>

<span class="n">accountInvoices</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_invoices_for_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">82ecbf80-ddd2-4208-92be-2d3b2b7fc266</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">Invoice</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getInvoicesForAccount</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'82ecbf80-ddd2-4208-92be-2d3b2b7fc266'</span><span class="p">;</span>

<span class="nv">$invoices</span>  <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getInvoicesForAccount</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"COMMITTED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAdj"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundAdj"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="s2">"d981abbb-3622-487a-9564-d594c9d04f83"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceDate"</span><span class="p">:</span><span class="s2">"2013-08-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targetDate"</span><span class="p">:</span><span class="s2">"2013-08-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceNumber"</span><span class="p">:</span><span class="s2">"1563"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"invoiceItemId"</span><span class="p">:</span><span class="s2">"5f3b4e9c-66bd-4c5c-b84a-4ae951cc2f1d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="s2">"d981abbb-3622-487a-9564-d594c9d04f83"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"itemType"</span><span class="p">:</span><span class="s2">"EXTERNAL_CHARGE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="s2">"Some description"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"startDate"</span><span class="p">:</span><span class="s2">"2013-08-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:[]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"isParentInvoice"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:[]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>startDate</strong></td>
<td>date</td>
<td>false</td>
<td>no starting date</td>
<td>Return only invoices issued since this date.</td>
</tr>
<tr>
<td><strong>endDate</strong></td>
<td>date</td>
<td>false</td>
<td>no ending date</td>
<td>Return only invoices issued up to this date.</td>
</tr>
<tr>
<td><strong>withMigrationInvoices</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include migration invoices</td>
</tr>
<tr>
<td><strong>unpaidInvoicesOnly</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include unpaid invoices only</td>
</tr>
<tr>
<td><strong>includeVoidedInvoices</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include voided invoices</td>
</tr>
<tr>
<td><strong>includeInvoiceComponents</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include invoice components (like invoice items/payments, etc.)</td>
</tr>
<tr>
<td><strong>invoicesFilter</strong></td>
<td>string</td>
<td>false</td>
<td>empty</td>
<td>A comma separated list of invoiceIds to filter</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p>For information about migration and migration invoices, see the <a href="http://docs.killbill.io/latest/migration_guide.html">Migration Guide</a>.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status of 200 and a list of invoice objects for this account.</p>
<h3 id='retrieve-paginated-account-invoices'>Retrieve paginated account invoices</h3>
<p>List the Invoices associated with this account in a paginated format.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/invoices/pagination</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/325fbe1c-7c35-4d96-a4e5-2cbaabe218c6/invoices/pagination"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"325fbe1c-7c35-4d96-a4e5-2cbaabe218c6"</span><span class="o">);</span>
<span class="nc">Long</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">0L</span><span class="o">;</span>
<span class="nc">Long</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">10L</span><span class="o">;</span>       
<span class="nc">Invoices</span> <span class="n">invoices</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getInvoicesForAccountPaginated</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> <span class="n">offset</span><span class="o">,</span> <span class="n">limit</span><span class="o">,</span> <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span> <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'325fbe1c-7c35-4d96-a4e5-2cbaabe218c6'</span>

<span class="n">accountInvoices</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">invoices</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'82ecbf80-ddd2-4208-92be-2d3b2b7fc266'</span>

<span class="n">accountInvoices</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_invoices_for_account_paginated</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">82ecbf80-ddd2-4208-92be-2d3b2b7fc266</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">Invoice</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getInvoicesForAccountPaginated</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'82ecbf80-ddd2-4208-92be-2d3b2b7fc266'</span><span class="p">;</span>

<span class="nv">$invoices</span>  <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getInvoicesForAccountPaginated</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"COMMITTED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAdj"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundAdj"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="s2">"d981abbb-3622-487a-9564-d594c9d04f83"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceDate"</span><span class="p">:</span><span class="s2">"2013-08-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targetDate"</span><span class="p">:</span><span class="s2">"2013-08-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceNumber"</span><span class="p">:</span><span class="s2">"1563"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"invoiceItemId"</span><span class="p">:</span><span class="s2">"5f3b4e9c-66bd-4c5c-b84a-4ae951cc2f1d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="s2">"d981abbb-3622-487a-9564-d594c9d04f83"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"itemType"</span><span class="p">:</span><span class="s2">"EXTERNAL_CHARGE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="s2">"Some description"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"startDate"</span><span class="p">:</span><span class="s2">"2013-08-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:[]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"isParentInvoice"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:[]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>offset</strong></td>
<td>long</td>
<td>false</td>
<td>0</td>
<td>Starting index for items listed</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>long</td>
<td>false</td>
<td>100</td>
<td>Maximum number of items to be listed</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p>For information about migration and migration invoices, see the <a href="http://docs.killbill.io/latest/migration_guide.html">Migration Guide</a>.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status of 200 and a list of invoice objects for this account.</p>
<h2 id='payment'>Payment</h2>
<p>These endpoints are used to make or manage payments associated with this account. See section <a href="payment.html">Payment</a> for details on payments.</p>
<h3 id='trigger-a-payment-for-all-unpaid-invoices'>Trigger a payment for all unpaid invoices</h3>
<p>Initiate payments for any unpaid invoices. This API allows you to make a series of payment calls, one against each unpaid invoice, using a specific payment method.</p>

<p>If successful, returns a 201 status code. In addition, a <code>Location</code> header is returned giving the URL for fetching the paid invoices. If no payments were made, returns a 204 status code.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>POST http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/invoicePayments</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/invoicePayments?paymentMethodId=f835c556-0694-4883-b4c1-d1b6e308409b"</span>   
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"e011caa5-ba35-4ac6-81cb-63b4f08122dc"</span><span class="o">);</span>
<span class="no">UUID</span> <span class="n">paymentMethodId</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">Boolean</span> <span class="n">externalPayment</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span> <span class="c1">// Will use a external payment method</span>
<span class="nc">BigDecimal</span> <span class="n">paymentAmount</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">LocalDate</span> <span class="n">targetDate</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_PROPERTIES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">payAllInvoices</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                          <span class="n">paymentMethodId</span><span class="o">,</span> 
                          <span class="n">externalPayment</span><span class="o">,</span> 
                          <span class="n">paymentAmount</span><span class="o">,</span> 
                          <span class="n">targetDate</span><span class="o">,</span>
                          <span class="no">NULL_PLUGIN_PROPERTIES</span><span class="o">,</span> 
                          <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">invoice_payment</span>                  <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">InvoicePayment</span><span class="p">.</span><span class="nf">new</span>
<span class="n">invoice_payment</span><span class="p">.</span><span class="nf">account_id</span>       <span class="o">=</span> <span class="s1">'82ecbf80-ddd2-4208-92be-2d3b2b7fc266'</span>

<span class="n">external_payment</span>  <span class="o">=</span> <span class="kp">true</span>
<span class="n">payment_method_id</span> <span class="o">=</span> <span class="kp">nil</span>
<span class="n">target_date</span>       <span class="o">=</span> <span class="kp">nil</span>

<span class="n">invoice_payment</span><span class="p">.</span><span class="nf">bulk_create</span><span class="p">(</span><span class="n">external_payment</span><span class="p">,</span>
                            <span class="n">payment_method_id</span><span class="p">,</span>
                            <span class="n">target_date</span><span class="p">,</span>
                            <span class="n">user</span><span class="p">,</span>
                            <span class="n">reason</span><span class="p">,</span>
                            <span class="n">comment</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'82ecbf80-ddd2-4208-92be-2d3b2b7fc266'</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">pay_all_invoices</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>                                                      
                            <span class="n">external_payment</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">payment_method_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                            <span class="n">target_date</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                            <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                            <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                            <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">82ecbf80-ddd2-4208-92be-2d3b2b7fc266</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">payAllInvoices</span><span class="p">(</span><span class="nx">accountID</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'82ecbf80-ddd2-4208-92be-2d3b2b7fc266'</span><span class="p">;</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">payAllInvoices</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">);</span>
</code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>paymentMethodId</strong></td>
<td>string</td>
<td>false</td>
<td>default payment method</td>
<td>Payment method id</td>
</tr>
<tr>
<td><strong>externalPayment</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true if you use a external payment method.</td>
</tr>
<tr>
<td><strong>paymentAmount</strong></td>
<td>string</td>
<td>false</td>
<td>total balance</td>
<td>Total payment amount</td>
</tr>
<tr>
<td><strong>targetDate</strong></td>
<td>string</td>
<td>false</td>
<td>current date</td>
<td>Date for which payment should be made</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 204 without any data.</p>
<h3 id='retrieve-account-invoice-payments'>Retrieve account invoice payments</h3>
<p>Retrieve a list of payments made against invoices for this account.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/invoicePayments</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/invoicePayments"</span>    
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"e011caa5-ba35-4ac6-81cb-63b4f08122dc"</span><span class="o">);</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_PROPERTIES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="nc">InvoicePayments</span> <span class="n">result</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getInvoicePayments</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                                       <span class="no">NULL_PLUGIN_PROPERTIES</span><span class="o">,</span> 
                                                       <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">audit</span> <span class="o">=</span><span class="s1">'NONE'</span>
<span class="n">with_plugin_info</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">with_attempts</span> <span class="o">=</span> <span class="kp">false</span>

<span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'e011caa5-ba35-4ac6-81cb-63b4f08122dc'</span>

<span class="n">accountInvoicePayments</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">invoice_payments</span><span class="p">(</span> <span class="n">audit</span><span class="p">,</span>
                                                   <span class="n">with_plugin_info</span><span class="p">,</span>
                                                   <span class="n">with_attempts</span><span class="p">,</span>
                                                   <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'110952d7-1b7e-482c-b6bb-103e46794927'</span>

<span class="n">accountInvoicePayments</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_invoice_payments</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">110952d7-1b7e-482c-b6bb-103e46794927</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">InvoicePayment</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getInvoicePayments</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'110952d7-1b7e-482c-b6bb-103e46794927'</span><span class="p">;</span>

<span class="nv">$invoicePayments</span>  <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getInvoicePayments</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nl">"targetInvoiceId"</span><span class="p">:</span><span class="s2">"d1d6e8d8-c476-4b53-badf-c23f78c02c09"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="s2">"3f84661c-4fb7-42ac-8a02-3e8f48840e51"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentNumber"</span><span class="p">:</span><span class="s2">"319"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="s2">"3f84661c-4fb7-42ac-8a02-3e8f48840e51"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"authAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"capturedAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"purchasedAmount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundedAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditedAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="s2">"6c064894-60cb-4d7e-a679-7b2464522968"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactions"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="s2">"91c7363c-76b9-48f5-aafa-f098d4470a2a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transactionExternalKey"</span><span class="p">:</span><span class="s2">"91c7363c-76b9-48f5-aafa-f098d4470a2a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="s2">"3f84661c-4fb7-42ac-8a02-3e8f48840e51"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="s2">"3f84661c-4fb7-42ac-8a02-3e8f48840e51"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transactionType"</span><span class="p">:</span><span class="s2">"PURCHASE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="s2">"2013-08-01T06:00:01.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"processedAmount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"processedCurrency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:[]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:[]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>withPluginInfo</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include plugin info</td>
</tr>
<tr>
<td><strong>withAttempts</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include payment attempts</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Returns</strong></p>

<p>If successful, returns a status code of 200 and a list of invoice payment objects.</p>
<h3 id='retrieve-account-payments'>Retrieve account payments</h3>
<p>Retrieve a list of payments made for this account. Payments are listed independent of any invoice.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/payments</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/payments"</span>   
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"e0fe95af-7d59-4b70-8252-165e1840410c"</span><span class="o">);</span>
<span class="nc">Boolean</span> <span class="n">withAttempts</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not reflect payment attempts</span>
<span class="nc">Boolean</span> <span class="n">withPluginInfo</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not reflect payment attempts</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_PROPERTIES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="nc">Payments</span> <span class="n">payments</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getPaymentsForAccount</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span>
                                                     <span class="n">withAttempts</span><span class="o">,</span>
                                                     <span class="n">withPluginInfo</span><span class="o">,</span>
                                                     <span class="no">NULL_PLUGIN_PROPERTIES</span><span class="o">,</span> 
                                                     <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span>
                                                     <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'b0da8392-49ba-43f2-8fac-3f9f85b8ff61'</span>

<span class="n">accoountPayments</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">payments</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'b0da8392-49ba-43f2-8fac-3f9f85b8ff61'</span>

<span class="n">accountPayments</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_payments_for_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">b0da8392-49ba-43f2-8fac-3f9f85b8ff61</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">InvoicePayment</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getPaymentsForAccount</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'b0da8392-49ba-43f2-8fac-3f9f85b8ff61'</span><span class="p">;</span>

<span class="nv">$accountPayments</span>  <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getPaymentsForAccount</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="s2">"b83132eb-1bf9-4a02-8572-376e4b1f06c9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentNumber"</span><span class="p">:</span><span class="s2">"325"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="s2">"b83132eb-1bf9-4a02-8572-376e4b1f06c9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"authAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"capturedAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"purchasedAmount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundedAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditedAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="s2">"6041ffab-ae5f-45d3-bdf8-ce8cbfa5fd5c"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactions"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="s2">"be9dceca-9c5d-4038-818c-57e6fccfbe92"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transactionExternalKey"</span><span class="p">:</span><span class="s2">"be9dceca-9c5d-4038-818c-57e6fccfbe92"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="s2">"b83132eb-1bf9-4a02-8572-376e4b1f06c9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="s2">"b83132eb-1bf9-4a02-8572-376e4b1f06c9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transactionType"</span><span class="p">:</span><span class="s2">"PURCHASE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="s2">"2013-08-01T06:00:02.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"processedAmount"</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"processedCurrency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:[]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>withPluginInfo</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include plugin info</td>
</tr>
<tr>
<td><strong>withAttempts</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include payment attempts</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of payment objects.</p>
<h3 id='trigger-a-payment-authorization-purchase-or-credit'>Trigger a payment (authorization, purchase or credit)</h3>
<p>This endpoint is part of the raw payment APIs, unreleated to subscriptions and invoices. It simply triggers
a payment transaction against a particular payment gateway through the Kill Bill core and through the plugin
communicating with the payment gateway. The transaction could be an authorization, a purchase, or a credit.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>POST http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/payments</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{ "transactionType": "AUTHORIZE", "amount": 0}'</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/payments?paymentMethodId=c02fa9b0-ae95-42ae-9010-bc11cb160947"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"f4087a76-9f8a-4893-abbf-c5bb69975d1b"</span><span class="o">);</span>

<span class="nc">PaymentTransaction</span> <span class="n">authTransaction</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PaymentTransaction</span><span class="o">();</span>
<span class="n">authTransaction</span><span class="o">.</span><span class="na">setAmount</span><span class="o">(</span><span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ONE</span><span class="o">);</span>
<span class="n">authTransaction</span><span class="o">.</span><span class="na">setCurrency</span><span class="o">(</span><span class="n">account</span><span class="o">.</span><span class="na">getCurrency</span><span class="o">());</span>

<span class="c1">// TransactionType could be 'AUTHORIZE', 'PURCHASE' or 'CREDIT'</span>
<span class="n">authTransaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="nc">TransactionType</span><span class="o">.</span><span class="na">AUTHORIZE</span><span class="o">);</span>

<span class="no">UUID</span> <span class="n">paymentMethodId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"1d55ed5f-deea-4109-98b0-beb13a242f7c"</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_NAMES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_PROPERTIES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="nc">Payment</span> <span class="n">payment</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">processPayment</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                            <span class="n">authTransaction</span><span class="o">,</span> 
                                            <span class="n">paymentMethodId</span><span class="o">,</span> 
                                            <span class="no">NULL_PLUGIN_NAMES</span><span class="o">,</span>
                                            <span class="no">NULL_PLUGIN_PROPERTIES</span><span class="o">,</span> 
                                            <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">amount</span> <span class="o">=</span> <span class="s1">'50.0'</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s2">"f4087a76-9f8a-4893-abbf-c5bb69975d1b"</span>
<span class="n">payment_method_id</span> <span class="o">=</span> <span class="s2">"1d55ed5f-deea-4109-98b0-beb13a242f7c"</span>
<span class="n">refresh_options</span> <span class="o">=</span> <span class="kp">nil</span>

<span class="c1"># Authorization</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">auth</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                 <span class="n">payment_method_id</span><span class="p">,</span> 
                 <span class="n">user</span><span class="p">,</span> 
                 <span class="n">reason</span><span class="p">,</span> 
                 <span class="n">comment</span><span class="p">,</span> 
                 <span class="n">options</span><span class="p">,</span> 
                 <span class="n">refresh_options</span><span class="p">)</span>

<span class="c1"># Purchase</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">purchase</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                     <span class="n">payment_method_id</span><span class="p">,</span> 
                     <span class="n">user</span><span class="p">,</span> 
                     <span class="n">reason</span><span class="p">,</span> 
                     <span class="n">comment</span><span class="p">,</span> 
                     <span class="n">options</span><span class="p">,</span> 
                     <span class="n">refresh_options</span><span class="p">)</span>

<span class="c1"># Credit</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">credit</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                   <span class="n">payment_method_id</span><span class="p">,</span> 
                   <span class="n">user</span><span class="p">,</span> 
                   <span class="n">reason</span><span class="p">,</span> 
                   <span class="n">comment</span><span class="p">,</span> 
                   <span class="n">options</span><span class="p">,</span> 
                   <span class="n">refresh_options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'b0da8392-49ba-43f2-8fac-3f9f85b8ff61'</span>
<span class="n">payment_method_id</span> <span class="o">=</span> <span class="s">'80c7b386-97b2-424c-bb4e-0017f92bc6eb'</span>


<span class="c1"># transaction_type could be 'AUTHORIZE', 'PURCHASE' or 'CREDIT'
</span><span class="n">body</span> <span class="o">=</span> <span class="n">PaymentTransaction</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">transaction_type</span><span class="o">=</span><span class="s">'AUTHORIZE'</span><span class="p">)</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">process_payment</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> 
                           <span class="n">body</span><span class="p">,</span> 
                           <span class="n">payment_method_id</span><span class="o">=</span><span class="n">payment_method_id</span><span class="p">,</span>                           
                           <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>                           
                           <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                           <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">PaymentTransaction</span> <span class="o">=</span> <span class="p">{</span><span class="na">amount</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="na">transactionType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">AUTHORIZE</span><span class="dl">'</span><span class="p">};</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">processPayment</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="dl">'</span><span class="s1">b0da8392-49ba-43f2-8fac-3f9f85b8ff61</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>

<span class="nv">$paymentTransaction</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PaymentTransaction</span><span class="p">();</span>

<span class="nv">$paymentTransaction</span><span class="o">-&gt;</span><span class="nf">setAmount</span><span class="p">(</span><span class="s1">'50'</span><span class="p">);</span>
<span class="nv">$paymentTransaction</span><span class="o">-&gt;</span><span class="nf">setTransactionType</span><span class="p">(</span><span class="s1">'AUTHORIZE'</span><span class="p">);</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'b0da8392-49ba-43f2-8fac-3f9f85b8ff61'</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">processPayment</span><span class="p">(</span><span class="nv">$paymentTransaction</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Request Body</strong></p>

<p>The request body is a JSON string representing the payment transaction. See section <a href="payment-transaction.html">Payment Transaction</a> for details on payment transactions.</p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>paymentMethodId</strong></td>
<td>string</td>
<td>false</td>
<td>default payment method</td>
<td>payment method ID to use, if not default method</td>
</tr>
<tr>
<td><strong>controlPluginName</strong></td>
<td>array of strings</td>
<td>false</td>
<td>omit</td>
<td>list of control plugins, if any</td>
</tr>
<tr>
<td><strong>pluginProperty</strong></td>
<td>array of strings</td>
<td>false</td>
<td>omit</td>
<td>list of plugin properties, if any</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a 201 status code. In addition, a <code>Location</code> header is returned giving the URL for the payment object, including the generated <code>paymentId</code>.</p>
<h3 id='trigger-a-payment-authorization-purchase-or-credit-using-the-account-external-key'>Trigger a payment (authorization, purchase or credit) using the account external key</h3>
<p>This endpoint performs the same actions as the previous one, but the account is identified by its external key. </p>

<p><strong>HTTP Request</strong> </p>

<p><code>POST http://127.0.0.1:8080/1.0/kb/accounts/payments</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{ "transactionType": "AUTHORIZE", "amount": 0}'</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/payments?externalKey=2ad52f53-85ae-408a-9879-32a7e59dd03d&amp;paymentMethodId=c02fa9b0-ae95-42ae-9010-bc11cb160947"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="nc">String</span> <span class="n">externalKey</span> <span class="o">=</span> <span class="s">"ad70ffb1-3355-418a-a457-6d8d80696d02"</span><span class="o">;</span>
<span class="nc">PaymentTransaction</span> <span class="n">authTransaction</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PaymentTransaction</span><span class="o">();</span>
<span class="n">authTransaction</span><span class="o">.</span><span class="na">setAmount</span><span class="o">(</span><span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ONE</span><span class="o">);</span>
<span class="n">authTransaction</span><span class="o">.</span><span class="na">setCurrency</span><span class="o">(</span><span class="nc">Currency</span><span class="o">.</span><span class="na">USD</span><span class="o">);</span><span class="c1">//use currency associated with Account</span>

<span class="c1">// TransactionType could be 'AUTHORIZE', 'PURCHASE' or 'CREDIT'</span>
<span class="n">authTransaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="nc">TransactionType</span><span class="o">.</span><span class="na">AUTHORIZE</span><span class="o">);</span>

<span class="no">UUID</span> <span class="n">paymentMethodId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"c6bd413e-268e-4cc8-afb0-16b2dec3ffa5"</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_NAMES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_PROPERTIES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="nc">Payment</span> <span class="n">payment</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">processPaymentByExternalKey</span><span class="o">(</span><span class="n">authTransaction</span><span class="o">,</span>
                                                         <span class="n">externalKey</span><span class="o">,</span> 
                                                          <span class="n">paymentMethodId</span><span class="o">,</span> 
                                                          <span class="no">NULL_PLUGIN_NAMES</span><span class="o">,</span>
                                                          <span class="no">NULL_PLUGIN_PROPERTIES</span><span class="o">,</span> 
                                                          <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">amount</span> <span class="o">=</span> <span class="s1">'50.0'</span>

<span class="n">externalKey</span> <span class="o">=</span> <span class="s2">"ad70ffb1-3355-418a-a457-6d8d80696d02"</span><span class="p">;</span>
<span class="n">payment_method_id</span> <span class="o">=</span> <span class="s1">'c6bd413e-268e-4cc8-afb0-16b2dec3ffa5'</span>
<span class="n">refresh_options</span> <span class="o">=</span> <span class="kp">nil</span>

<span class="c1"># Authorization</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">auth_by_external_key</span><span class="p">(</span><span class="n">external_key</span><span class="p">,</span>
                                 <span class="n">payment_method_id</span><span class="p">,</span> 
                                 <span class="n">user</span><span class="p">,</span> 
                                 <span class="n">reason</span><span class="p">,</span> 
                                 <span class="n">comment</span><span class="p">,</span> 
                                 <span class="n">options</span><span class="p">,</span> 
                                 <span class="n">refresh_options</span><span class="p">)</span>

<span class="c1"># Purchase</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">purchase_by_external_key</span><span class="p">(</span><span class="n">external_key</span><span class="p">,</span>
                                     <span class="n">payment_method_id</span><span class="p">,</span> 
                                     <span class="n">user</span><span class="p">,</span> 
                                     <span class="n">reason</span><span class="p">,</span> 
                                     <span class="n">comment</span><span class="p">,</span> 
                                     <span class="n">options</span><span class="p">,</span> 
                                     <span class="n">refresh_options</span><span class="p">)</span>

<span class="c1"># Credit</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">credit_by_external_key</span><span class="p">(</span><span class="n">external_key</span><span class="p">,</span>
                                   <span class="n">payment_method_id</span><span class="p">,</span> 
                                   <span class="n">user</span><span class="p">,</span> 
                                   <span class="n">reason</span><span class="p">,</span> 
                                   <span class="n">comment</span><span class="p">,</span> 
                                   <span class="n">options</span><span class="p">,</span> 
                                   <span class="n">refresh_options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_external_key</span> <span class="o">=</span> <span class="s">'sample_external_key'</span>
<span class="n">payment_method_id</span> <span class="o">=</span> <span class="s">'80c7b386-97b2-424c-bb4e-0017f92bc6eb'</span>


<span class="c1"># transaction_type could be 'AUTHORIZE', 'PURCHASE' or 'CREDIT'
</span><span class="n">body</span> <span class="o">=</span> <span class="n">PaymentTransaction</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">transaction_type</span><span class="o">=</span><span class="s">'AUTHORIZE'</span><span class="p">)</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">process_payment_by_external_key</span><span class="p">(</span><span class="n">body</span><span class="p">,</span>
                                           <span class="n">account_external_key</span><span class="p">,</span>
                                           <span class="n">payment_method_id</span><span class="o">=</span><span class="n">payment_method_id</span><span class="p">,</span>
                                           <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                                           <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span>
                                           <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">PaymentTransaction</span> <span class="o">=</span> <span class="p">{</span><span class="na">amount</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="na">transactionType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">AUTHORIZE</span><span class="dl">'</span><span class="p">};</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">processPaymentByExternalKey</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="dl">'</span><span class="s1">sample_external_key</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>

<span class="nv">$paymentTransaction</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PaymentTransaction</span><span class="p">();</span>

<span class="nv">$paymentTransaction</span><span class="o">-&gt;</span><span class="nf">setAmount</span><span class="p">(</span><span class="s1">'50'</span><span class="p">);</span>
<span class="nv">$paymentTransaction</span><span class="o">-&gt;</span><span class="nf">setTransactionType</span><span class="p">(</span><span class="s1">'AUTHORIZE'</span><span class="p">);</span>

<span class="nv">$externalKey</span> <span class="o">=</span> <span class="s1">'sample_external_key'</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">processPaymentByExternalKey</span><span class="p">(</span><span class="nv">$paymentTransaction</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$externalKey</span><span class="p">,</span><span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Request Body</strong></p>

<p>The request body is a JSON string representing the payment transaction. See section <a href="payment-transaction.html">Payment Transaction</a> for details on payment transactions.</p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>externalKey</strong></td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>the account external key</td>
</tr>
<tr>
<td><strong>paymentMethodId</strong></td>
<td>string</td>
<td>false</td>
<td>default payment method</td>
<td>payment method ID to use, if not default method</td>
</tr>
<tr>
<td><strong>controlPluginName</strong></td>
<td>array of strings</td>
<td>false</td>
<td>empty list</td>
<td>list of control plugins, if any</td>
</tr>
<tr>
<td><strong>pluginProperty</strong></td>
<td>array of strings</td>
<td>false</td>
<td>empty list</td>
<td>list of plugin properties, if any</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a 201 status code. In addition, a <code>Location</code> header is returned giving the URL for the payment object, including the generated <code>paymentId</code>.</p>
<h2 id='payment-method'>Payment Method</h2>
<p>These endpoints allow you to manage the payment methods for an account. See section <a href="payment-method.html">Payment Method</a> for details on payment methods.</p>
<h3 id='add-a-payment-method'>Add a payment method</h3>
<p>Add a payment method for a given <code>Account</code>. The payment method is represented by a plugin that must already be registered with KillBill.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>POST http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/paymentMethods</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{ "externalKey": "ExternalKey", "accountId": "2ad52f53-85ae-408a-9879-32a7e59dd03d", "pluginName": "__EXTERNAL_PAYMENT__"}'</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/8785164f-b5d7-4da1-9495-33f5105e8d80/paymentMethods"</span> 
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"6e5d0912-2e56-4511-af77-af054b616696"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">pluginName</span> <span class="o">=</span> <span class="s">"__EXTERNAL_PAYMENT__"</span><span class="o">;</span> 

<span class="nc">PaymentMethod</span> <span class="n">paymentMethod</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PaymentMethod</span><span class="o">();</span>
<span class="n">paymentMethod</span><span class="o">.</span><span class="na">setPluginName</span><span class="o">(</span><span class="n">pluginName</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_NAMES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_PROPERTIES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="c1">//create a payment method</span>
<span class="nc">PaymentMethod</span> <span class="n">paymentMethodPP</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">createPaymentMethod</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> <span class="n">paymentMethod</span><span class="o">,</span> <span class="no">NULL_PLUGIN_NAMES</span><span class="o">,</span> <span class="no">NULL_PLUGIN_PROPERTIES</span><span class="o">,</span> <span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//to create a payment method and set it as default use accountApi.createPaymentMethod(accountId, body, isDefault, payAllUnpaidInvoices, controlPluginName, pluginProperty, inputOptions);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">pm</span>             <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="p">.</span><span class="nf">new</span>
<span class="n">pm</span><span class="p">.</span><span class="nf">account_id</span>  <span class="o">=</span> <span class="s2">"6e5d0912-2e56-4511-af77-af054b616696"</span>
<span class="n">pm</span><span class="p">.</span><span class="nf">plugin_name</span> <span class="o">=</span> <span class="s1">'__EXTERNAL_PAYMENT__'</span>
<span class="n">pm</span><span class="p">.</span><span class="nf">plugin_info</span> <span class="o">=</span> <span class="kp">nil</span>

<span class="n">is_default</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">pm</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">is_default</span><span class="p">,</span> 
          <span class="n">user</span><span class="p">,</span> 
          <span class="n">reason</span><span class="p">,</span> 
          <span class="n">comment</span><span class="p">,</span>
          <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'059ecfb8-6b4d-4a89-9537-63a687e6cf10'</span>
<span class="n">body</span> <span class="o">=</span> <span class="n">PaymentMethod</span><span class="p">(</span><span class="n">external_key</span><span class="o">=</span><span class="s">'ExternalKey'</span><span class="p">,</span> <span class="n">plugin_name</span><span class="o">=</span><span class="s">'__EXTERNAL_PAYMENT__'</span><span class="p">,</span> <span class="n">plugin_info</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>


<span class="n">accountApi</span><span class="p">.</span><span class="n">create_payment_method</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> 
                                 <span class="n">body</span><span class="p">,</span> 
                                 <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                                 <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                                 <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">PaymentMethod</span> <span class="o">=</span> <span class="p">{</span><span class="na">externalKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ExternalKey</span><span class="dl">'</span><span class="p">,</span> <span class="na">pluginName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">__EXTERNAL_PAYMENT__</span><span class="dl">'</span><span class="p">}</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">createPaymentMethod</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="dl">'</span><span class="s1">059ecfb8-6b4d-4a89-9537-63a687e6cf10</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>

<span class="nv">$paymentMethod</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PaymentMethod</span><span class="p">();</span>

<span class="nv">$paymentMethod</span><span class="o">-&gt;</span><span class="nf">setExternalKey</span><span class="p">(</span><span class="s2">"ExternalKey"</span><span class="p">);</span>
<span class="nv">$paymentMethod</span><span class="o">-&gt;</span> <span class="nf">setPluginName</span><span class="p">(</span><span class="s1">'__EXTERNAL_PAYMENT__'</span><span class="p">);</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"059ecfb8-6b4d-4a89-9537-63a687e6cf10"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">createPaymentMethod</span><span class="p">(</span><span class="nv">$paymentMethod</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Request Body</strong></p>

<p>A payment method object specifying <code>accountId</code> and <code>pluginName</code> at the minimum. Please refer to the <a href="payment-method.html#payment-method-resource">payment method resource</a> section for more details about the fields.</p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>isDefault</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to set new payment as default.</td>
</tr>
<tr>
<td><strong>payAllUnpaidInvoices</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to pay all unpaid invoices.</td>
</tr>
<tr>
<td><strong>controlPluginName</strong></td>
<td>array of strings</td>
<td>false</td>
<td>empty list</td>
<td>list of control plugins, if any</td>
</tr>
<tr>
<td><strong>pluginProperty</strong></td>
<td>array of strings</td>
<td>false</td>
<td>empty list</td>
<td>list of plugin properties, if any</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a 201 status code. In addition, a <code>Location</code> header is returned giving the URL for the payment method, including the generated <code>paymentMethodId</code>.</p>
<h3 id='retrieve-account-payment-methods'>Retrieve account payment methods</h3>
<p>This API retrieves a list of the payment methods that are associated with this account.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/paymentMethods</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/paymentMethods"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"faf239a5-456a-4eb9-aef9-8d2254ef57dc"</span><span class="o">);</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_PROPERTIES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">PaymentMethod</span><span class="o">&gt;</span> <span class="n">paymentMethods</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getPaymentMethodsForAccount</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                                                            <span class="no">NULL_PLUGIN_PROPERTIES</span><span class="o">,</span> 
                                                                            <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">payment_method</span>      <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">PaymentMethod</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s2">"faf239a5-456a-4eb9-aef9-8d2254ef57dc"</span>
<span class="n">with_plugin_info</span> <span class="o">=</span> <span class="kp">false</span>

<span class="n">accountPaymentMethods</span>  <span class="o">=</span> <span class="n">payment_method</span><span class="p">.</span><span class="nf">find_all_by_account_id</span><span class="p">(</span> <span class="n">account_id</span><span class="p">,</span> 
                                                                <span class="n">with_plugin_info</span><span class="p">,</span>
                                                                <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'88a5987a-1e1c-47c5-ba95-34ef14db3d46'</span>

<span class="n">accountPaymentMethods</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_payment_methods_for_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">88a5987a-1e1c-47c5-ba95-34ef14db3d46</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">PaymentMethod</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getPaymentMethodsForAccount</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'88a5987a-1e1c-47c5-ba95-34ef14db3d46'</span><span class="p">;</span>

<span class="nv">$accountPaymentMethods</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getPaymentMethodsForAccount</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f835c556-0694-4883-b4c1-d1b6e308409b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pluginName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__EXTERNAL_PAYMENT__"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pluginInfo"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Request Body</strong></p>

<p>The request body is a JSON string representing any plugin specific payment information (payment token for exampe).</p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>withPluginInfo</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include plugin info.</td>
</tr>
<tr>
<td><strong>includedDeleted</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to include deleted payment methods</td>
</tr>
<tr>
<td><strong>pluginProperty</strong></td>
<td>array of strings</td>
<td>false</td>
<td>empty list</td>
<td>list of plugin properties, if any</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of payment method objects.</p>
<h3 id='set-the-default-payment-method'>Set the default payment method</h3>
<p>This API sets an existing payment method to be the default payment method.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>PUT http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/paymentMethods/{paymentMethodId}/setDefault</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/paymentMethods/f835c556-0694-4883-b4c1-d1b6e308409b/setDefault"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"faf239a5-456a-4eb9-aef9-8d2254ef57dc"</span><span class="o">);</span>
<span class="no">UUID</span> <span class="n">paymentMethodId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"faf239a5-456a-4eb9-aef9-8d2254ef57dc"</span><span class="o">);</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_PROPERTIES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">setDefaultPaymentMethod</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                   <span class="n">paymentMethodId</span><span class="o">,</span> 
                                   <span class="no">NULL_PLUGIN_PROPERTIES</span><span class="o">,</span> 
                                   <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">payment_method</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">PaymentMethod</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s1">'faf239a5-456a-4eb9-aef9-8d2254ef57dc'</span>
<span class="n">payment_method_id</span> <span class="o">=</span> <span class="s1">'faf239a5-456a-4eb9-aef9-8d2254ef57dc'</span>

<span class="n">payment_method</span><span class="p">.</span><span class="nf">set_default</span><span class="p">(</span> <span class="n">payment_method_id</span><span class="p">,</span>
                            <span class="n">account_id</span><span class="p">,</span>
                            <span class="n">user</span><span class="p">,</span>
                            <span class="n">reason</span><span class="p">,</span>
                            <span class="n">comment</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'88a5987a-1e1c-47c5-ba95-34ef14db3d46'</span>
<span class="n">payment_method_id</span> <span class="o">=</span> <span class="s">'4f124c0d-cee7-49b1-a181-3b0738c685d7'</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">set_default_payment_method</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> 
                                      <span class="n">payment_method_id</span><span class="p">,</span> 
                                      <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                                      <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                                      <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">88a5987a-1e1c-47c5-ba95-34ef14db3d46</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">paymentMethodId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">4f124c0d-cee7-49b1-a181-3b0738c685d7</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">setDefaultPaymentMethod</span><span class="p">(</span><span class="nx">accountID</span><span class="p">,</span><span class="nx">paymentMethodId</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>

<span class="nv">$paymentMethodID</span> <span class="o">=</span> <span class="s2">"4f124c0d-cee7-49b1-a181-3b0738c685d7"</span><span class="p">;</span>
<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"88a5987a-1e1c-47c5-ba95-34ef14db3d46"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">setDefaultPaymentMethod</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$paymentMethodID</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">);</span>
</code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>payAllUnpaidInvoices</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>Choose true to pay all unpaid invoices</td>
</tr>
<tr>
<td><strong>pluginProperty</strong></td>
<td>array of strings</td>
<td>false</td>
<td>empty list</td>
<td>List of plugin properties, if any</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 204 and an empty body.</p>
<h3 id='refresh-account-payment-methods'>Refresh account payment methods</h3>
<p>This endpoint is for a rare use case where information for a particular payment method is stored inside the third party gateway, and both Kill Bill core and its payment plugin need to have their view updated.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>PUT http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/paymentMethods/refresh</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/paymentMethods/refresh"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"faf239a5-456a-4eb9-aef9-8d2254ef57dc"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">pluginName</span> <span class="o">=</span> <span class="s">"__EXTERNAL_PAYMENT__"</span><span class="o">;</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="no">NULL_PLUGIN_PROPERTIES</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">refreshPaymentMethods</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                 <span class="n">pluginName</span><span class="o">,</span> 
                                 <span class="no">NULL_PLUGIN_PROPERTIES</span><span class="o">,</span> 
                                 <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">payment_method</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">PaymentMethod</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s2">"faf239a5-456a-4eb9-aef9-8d2254ef57dc"</span>

<span class="n">payment_method</span><span class="p">.</span><span class="nf">refresh</span><span class="p">(</span> <span class="n">account_id</span><span class="p">,</span> 
                        <span class="n">user</span><span class="p">,</span> 
                        <span class="n">reason</span><span class="p">,</span> 
                        <span class="n">comment</span><span class="p">,</span> 
                        <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'88a5987a-1e1c-47c5-ba95-34ef14db3d46'</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">refresh_payment_methods</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                                   <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                                   <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                                   <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">88a5987a-1e1c-47c5-ba95-34ef14db3d46</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">refreshPaymentMethods</span><span class="p">(</span><span class="nx">accountID</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"88a5987a-1e1c-47c5-ba95-34ef14db3d46"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">refreshPaymentMethods</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">);</span>
</code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>PluginName</strong></td>
<td>array of strings</td>
<td>false</td>
<td>empty list</td>
<td>List of plugins, if any</td>
</tr>
<tr>
<td><strong>pluginProperty</strong></td>
<td>array of strings</td>
<td>false</td>
<td>empty list</td>
<td>List of plugin properties, if any</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 204 and an empty body.</p>
<h2 id='overdue'>Overdue</h2>
<p>The system can be configured to move an <code>Account</code> through various <a href="http://docs.killbill.io/latest/userguide_subscription.html#components-overdue">overdue</a> (a.k.a. dunning) states when invoices are left unpaid. </p>
<h3 id='retrieve-overdue-state-for-account'>Retrieve overdue state for account</h3>
<p>Retrieve the current overdue/dunning state for an <code>Account</code>.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/overdue</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/overdue"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"d3a82897-ae72-4a2e-9bca-e3c1fe087f84"</span><span class="o">);</span>

<span class="nc">OverdueState</span> <span class="n">result</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getOverdueAccount</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'d3a82897-ae72-4a2e-9bca-e3c1fe087f84'</span>

<span class="n">accountOverdueState</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">overdue</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'82ecbf80-ddd2-4208-92be-2d3b2b7fc266'</span>

<span class="n">accountOverdueState</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_overdue_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">88a5987a-1e1c-47c5-ba95-34ef14db3d46</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">OverdueState</span><span class="p">,</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getOverdueAccount</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'88a5987a-1e1c-47c5-ba95-34ef14db3d46'</span><span class="p">;</span>

<span class="nv">$accountOverdueState</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getOverdueAccount</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__KILLBILL__CLEAR__OVERDUE_STATE__"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"externalMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"daysBetweenPaymentRetries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="mi">8</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"isDisableEntitlementAndChangesBlocked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isBlockChanges"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isClearState"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reevaluationIntervalDays"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Returns</strong></p>

<p>If successful, returns a status code of 200 and an overdue state object.</p>
<h2 id='blocking-state'>Blocking State</h2>
<p>As part of the entitlement features, Kill Bill provides an abstraction to include <code>BlockingState</code> events into the per <code>Account</code> event stream. The main idea is to allow billing to be modified, such as by pausing a specific subscription or all subscriptions, and to allow modification of the entitlement state, such as by disabling the service associated with a given subscription. The <a href="http://docs.killbill.io/latest/entitlement_subsystem.html">entitlement internal documentation</a> provides some overview of the mechanism. Blocking states are mostly manipulated from inside Kill Bill core, but the functionality is exposed through the API, with the caveat that it is an advanced feature and can lead to unintented behavior if not used properly.</p>

<p>Note that the term <code>BlockingState</code> seems to indicate that something will be blocked, and this can certainly be the case, but not necessarily; actually the attributes
<code>isBlockChange</code>, <code>isBlockEntitlement</code>, <code>isBlockBilling</code> will drive this behavior. These flags are always considered on a per blocking state <code>service</code>, regardless of the state name. For instance, consider the following two scenarios:</p>

<ul>
<li>Scenario 1

<ul>
<li>T1: Service A, State S1, isBlockBilling=true, isBlockEntitlement=false</li>
<li>T2: Service A, State S1, isBlockBilling=false, isBlockEntitlement=true</li>
<li>T3: Service A, State S2, isBlockBilling=false, isBlockEntitlement=false</li>
<li>T4: Service A, State S2, isBlockBilling=false, isBlockEntitlement=false</li>
</ul></li>
<li>Scenario 2

<ul>
<li>T1: Service A, State S1, isBlockBilling=true, isBlockEntitlement=false</li>
<li>T2: Service B, State S1, isBlockBilling=false, isBlockEntitlement=true</li>
<li>T3: Service A, State S2, isBlockBilling=false, isBlockEntitlement=false</li>
<li>T4: Service B, State S2, isBlockBilling=false, isBlockEntitlement=false</li>
</ul></li>
</ul>

<p>In Scenario 1, billing is blocked between T1 and T2, while entitlement is blocked between T2 and T3. In Scenario 2 however, billing is blocked between T1 and T3, while entitlement is blocked between T2 and T4.</p>
<h3 id='blocking-state-resource'>Blocking State Resource</h3>
<p>A Blocking State Resource represents a blocking state. It has the following attributes:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Generated by</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>blockedId</strong></td>
<td>string</td>
<td>system</td>
<td>UUID for this blocking state id</td>
</tr>
<tr>
<td><strong>stateName</strong></td>
<td>string</td>
<td>user</td>
<td>Name of the blocking state</td>
</tr>
<tr>
<td><strong>service</strong></td>
<td>string</td>
<td>user</td>
<td>Name of the service that inserts the blocking state</td>
</tr>
<tr>
<td><strong>isBlockChange</strong></td>
<td>boolean</td>
<td>user</td>
<td>Boolean flag that indicates whether changes should be blocked</td>
</tr>
<tr>
<td><strong>isBlockEntitlement</strong></td>
<td>boolean</td>
<td>user</td>
<td>Boolean flag that indicates whether the entitlement should be blocked</td>
</tr>
<tr>
<td><strong>isBlockBilling</strong></td>
<td>boolean</td>
<td>user</td>
<td>Boolean flag that indicates whether billing should be blocked</td>
</tr>
<tr>
<td><strong>effectiveDate</strong></td>
<td>DateTime</td>
<td>user</td>
<td>DateTime that the change should be effective</td>
</tr>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>user</td>
<td>Type of blocking state. Possible values are SUBSCRIPTION, SUBSCRIPTION_BUNDLE and ACCOUNT</td>
</tr>
</tbody></table>
<h3 id='block-an-account'>Block an account</h3>
<p>Add a <code>BlockingState</code> event for this account.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>POST http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/block</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{ "stateName": "STATE1", "service": "ServiceStateService", "isBlockChange": false, "isBlockEntitlement": false, "isBlockBilling": false }'</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/10483c3a-3394-4667-8519-0d849e9a8ec2/block"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"864c1418-e768-4cd5-a0db-67537144b685"</span><span class="o">);</span>

<span class="nc">BlockingState</span> <span class="n">blockingState</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BlockingState</span><span class="o">();</span>
<span class="n">blockingState</span><span class="o">.</span><span class="na">setStateName</span><span class="o">(</span><span class="s">"STATE1"</span><span class="o">);</span>
<span class="n">blockingState</span><span class="o">.</span><span class="na">setService</span><span class="o">(</span><span class="s">"ServiceStateService"</span><span class="o">);</span>
<span class="n">blockingState</span><span class="o">.</span><span class="na">setIsBlockChange</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="n">blockingState</span><span class="o">.</span><span class="na">setIsBlockBilling</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="n">blockingState</span><span class="o">.</span><span class="na">setIsBlockEntitlement</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

<span class="nc">LocalDate</span> <span class="n">requestedDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LocalDate</span><span class="o">(</span><span class="s">"2013-08-01"</span><span class="o">);</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">pluginProperty</span> <span class="o">=</span> <span class="nc">Collections</span><span class="o">.</span><span class="na">emptyMap</span><span class="o">();</span>

<span class="nc">BlockingStates</span> <span class="n">result</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">addAccountBlockingState</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span>
                                                           <span class="n">blockingState</span><span class="o">,</span>
                                                           <span class="n">requestedDate</span><span class="o">,</span>
                                                           <span class="n">pluginProperty</span><span class="o">,</span>
                                                           <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'864c1418-e768-4cd5-a0db-67537144b685'</span>

<span class="n">state_name</span> <span class="o">=</span> <span class="s2">"STATE1"</span>
<span class="n">service</span> <span class="o">=</span> <span class="s2">"ServiceStateService"</span>
<span class="n">block_change</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">block_entitlement</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">block_billing</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">requested_date</span> <span class="o">=</span> <span class="s2">"2013-08-01"</span>

<span class="n">account</span><span class="p">.</span><span class="nf">set_blocking_state</span><span class="p">(</span><span class="n">state_name</span><span class="p">,</span>
                           <span class="n">service</span><span class="p">,</span>
                           <span class="n">block_change</span><span class="p">,</span> 
                           <span class="n">block_entitlement</span><span class="p">,</span>
                           <span class="n">block_billing</span><span class="p">,</span> 
                           <span class="n">requested_date</span><span class="p">,</span>
                           <span class="n">user</span><span class="p">,</span> 
                           <span class="n">reason</span><span class="p">,</span> 
                           <span class="n">comment</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span>
<span class="n">body</span> <span class="o">=</span> <span class="n">BlockingState</span><span class="p">(</span><span class="n">state_name</span><span class="o">=</span><span class="s">'STATE1'</span><span class="p">,</span>
                     <span class="n">service</span><span class="o">=</span><span class="s">'ServiceStateService'</span><span class="p">,</span>
                     <span class="n">is_block_change</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                     <span class="n">is_block_entitlement</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                     <span class="n">is_block_billing</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">add_account_blocking_state</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> 
                                      <span class="n">body</span><span class="p">,</span> 
                                      <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                                      <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                                      <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">BlockingState</span> <span class="o">=</span> <span class="p">{</span>  <span class="na">stateName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ACCT_PAUSED</span><span class="dl">'</span><span class="p">,</span>
                        <span class="na">service</span><span class="p">:</span> <span class="dl">'</span><span class="s1">billing</span><span class="dl">'</span><span class="p">,</span>
                        <span class="na">isBlockChange</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                        <span class="na">isBlockEntitlement</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                        <span class="na">isBlockBilling</span><span class="p">:</span> <span class="kc">false</span>
                      <span class="p">}</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">addAccountBlockingState</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="dl">'</span><span class="s1">07c0cef4-41c5-4606-b2cd-661332cdd41c</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>

<span class="nv">$blockingState</span> <span class="o">=</span> <span class="k">new</span>  <span class="nc">BlockingState</span><span class="p">();</span>
<span class="nv">$blockingState</span><span class="o">-&gt;</span><span class="nf">setStateName</span><span class="p">(</span><span class="s1">'ACCT_PAUSED'</span><span class="p">);</span>
<span class="nv">$blockingState</span><span class="o">-&gt;</span><span class="nf">setService</span><span class="p">(</span><span class="s1">'billing'</span><span class="p">);</span>
<span class="nv">$blockingState</span><span class="o">-&gt;</span><span class="nf">setIsBlockChange</span><span class="p">(</span><span class="s1">'false'</span><span class="p">);</span>
<span class="nv">$blockingState</span><span class="o">-&gt;</span><span class="nf">setIsBlockBilling</span><span class="p">(</span><span class="s1">'false'</span><span class="p">);</span>
<span class="nv">$blockingState</span><span class="o">-&gt;</span><span class="nf">setIsBlockEntitlement</span><span class="p">(</span><span class="s1">'false'</span><span class="p">);</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"07c0cef4-41c5-4606-b2cd-661332cdd41c"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">addAccountBlockingState</span><span class="p">(</span><span class="nv">$blockingState</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<p><strong>Request Body</strong></p>

<p>A JSON string representing the blocking state object to be added. For details on this resource see <a href="#account-blocking-state-resource">blocking state</a>.</p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>requestedDate</strong></td>
<td>string</td>
<td>false</td>
<td>block immediately</td>
<td>Date/DateTime to block an account in <code>yyyy-mm-dd</code>/<code>yyyy-mm-ddThh:mm</code> format.</td>
</tr>
<tr>
<td><strong>pluginProperty</strong></td>
<td>array of strings</td>
<td>false</td>
<td>empty list</td>
<td>List of plugin properties, if any</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a 201 status code. In addition, a <code>Location</code> header is returned giving the URL for retrieving blocking states for the account.</p>
<h3 id='retrieve-blocking-states-for-account'>Retrieve blocking states for account</h3>
<p>Retrieves the <code>BlockingState</code> associated with a given resource.
<code>BlockingState</code> can be set at the <code>Account</code>, <code>Bundle</code> or <code>Subscription</code> level.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/block</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/10483c3a-3394-4667-8519-0d849e9a8ec2/block?blockingStateTypes=ACCOUNT"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"ee6835f0-8347-42d3-958c-9a939383ba28"</span><span class="o">);</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">BlockingStateType</span><span class="o">&gt;</span> <span class="n">blockingStateTypes</span> <span class="o">=</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="nc">BlockingStateType</span><span class="o">.</span><span class="na">SUBSCRIPTION_BUNDLE</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">blockingStateSvcs</span> <span class="o">=</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"service"</span><span class="o">);</span>

<span class="nc">BlockingStates</span> <span class="n">blockingStates</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getBlockingStates</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                                             <span class="n">blockingStateTypes</span><span class="o">,</span> 
                                                             <span class="n">blockingStateSvcs</span><span class="o">,</span> 
                                                             <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">FULL</span><span class="o">,</span> 
                                                             <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'ee6835f0-8347-42d3-958c-9a939383ba28'</span>

<span class="n">blocking_state_types</span> <span class="o">=</span> <span class="s1">'ACCOUNT'</span>
<span class="n">blocking_state_svcs</span> <span class="o">=</span> <span class="kp">nil</span>
<span class="n">audit</span> <span class="o">=</span> <span class="s1">'NONE'</span>

<span class="n">accountBlockingStates</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">blocking_states</span><span class="p">(</span><span class="n">blocking_state_types</span><span class="p">,</span>
                                                <span class="n">blocking_state_svcs</span><span class="p">,</span> 
                                                <span class="n">audit</span><span class="p">,</span>
                                                <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span>

<span class="n">accountBlockingStates</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_blocking_states</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">07c0cef4-41c5-4606-b2cd-661332cdd41c</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">BlockingState</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getBlockingStates</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span><span class="p">;</span>

<span class="nv">$accountBlockingStates</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getBlockingStates</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"blockedId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10483c3a-3394-4667-8519-0d849e9a8ec2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STATE1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ServiceStateService"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isBlockChange"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isBlockEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isBlockBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T14:45:37.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>blockingStateTypes</strong></td>
<td>array of strings</td>
<td>false</td>
<td>retrieve all</td>
<td>blocking state types to retrieve: &quot;SUBSCRIPTION&quot;, &quot;SUBSCRIPTION_BUNDLE&quot;, &quot;ACCOUNT&quot;</td>
</tr>
<tr>
<td><strong>blockingStateSvcs</strong></td>
<td>array of strings</td>
<td>false</td>
<td>retrieve all</td>
<td>filter list for blocking state services</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a blocking state object.</p>
<h2 id='hierarchical-accounts'>Hierarchical Accounts</h2>
<p>When using the <a href="http://docs.killbill.io/latest/ha.html">hierarchical account</a> feature, this API allows you to retrieve
all the child <code>Accounts</code> for a given parent <code>Account</code>.</p>
<h3 id='list-child-accounts'>List child accounts</h3>
<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/children</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/children"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">parentAccountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"ee6835f0-8347-42d3-958c-9a939383ba28"</span><span class="o">);</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalance</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span> <span class="c1">// Will include account balance</span>
<span class="nc">Boolean</span> <span class="n">accountWithBalanceAndCBA</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span> <span class="c1">// Will include account balance and CBA info</span>

<span class="nc">Accounts</span> <span class="n">childrenAccounts</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getChildrenAccounts</span><span class="o">(</span><span class="n">parentAccountId</span><span class="o">,</span> 
                                                           <span class="n">accountWithBalance</span><span class="o">,</span> 
                                                           <span class="n">accountWithBalanceAndCBA</span><span class="o">,</span> 
                                                           <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span> 
                                                           <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s2">"ee6835f0-8347-42d3-958c-9a939383ba28"</span>

<span class="n">with_balance</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">with_balance_and_cba</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">audit</span> <span class="o">=</span> <span class="s1">'NONE'</span>

<span class="n">childrenAccounts</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">children</span><span class="p">(</span> <span class="n">with_balance</span><span class="p">,</span> 
                                     <span class="n">with_balance_and_cba</span><span class="p">,</span> 
                                     <span class="n">audit</span><span class="p">,</span> 
                                     <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'8992e146-bfa1-4126-a045-98b844a4adcb'</span>

<span class="n">childrenAccounts</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_children_accounts</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">8992e146-bfa1-4126-a045-98b844a4adcb</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">Account</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getChildrenAccounts</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'8992e146-bfa1-4126-a045-98b844a4adcb'</span><span class="p">;</span>

<span class="nv">$childAccounts</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">getChildrenAccounts</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"e19c6ab3-1a21-42f2-8ea2-9859c082b093"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="s2">"1522172592-516014"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="s2">"John@laposte.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billCycleDayLocal"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="s2">"01ab962b-3c66-4b17-b391-ffcc9fe51884"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isPaymentDelegatedToParent"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="s2">"7, yoyo road"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="s2">"Apt 5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postalCode"</span><span class="p">:</span><span class="s2">"94105"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"company"</span><span class="p">:</span><span class="s2">"Unemployed"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"California"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="s2">"fr_FR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:[]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>accountWithBalance</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>if true, returns <code>accountBalance</code> info</td>
</tr>
<tr>
<td><strong>accountWithBalanceAndCBA</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>if true, returns <code>accountBalance</code> and <code>accountCBA</code> info</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of child account objects.</p>
<h3 id='transfer-a-given-child-credit-to-the-parent-level'>Transfer a given child credit to the parent level</h3>
<p>In the context of the Hierarchical Account feature, this allows moving the potential child credit to the parent level.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>PUT http://127.0.0.1:8080/1.0/kb/accounts/{childAccountId}/transferCredit</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/transferCredit"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">childAccountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"e659f0f3-745c-46d5-953c-28fe9282fc7d"</span><span class="o">);</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">transferChildCreditToParent</span><span class="o">(</span><span class="n">childAccountId</span><span class="o">,</span> <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'e659f0f3-745c-46d5-953c-28fe9282fc7d'</span>

<span class="n">account</span><span class="p">.</span><span class="nf">transfer_child_credit</span><span class="p">(</span><span class="n">user</span><span class="p">,</span>
                              <span class="n">reason</span><span class="p">,</span>
                              <span class="n">comment</span><span class="p">,</span>
                              <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">child_account_id</span> <span class="o">=</span> <span class="s">'88a5987a-1e1c-47c5-ba95-34ef14db3d46'</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">transfer_child_credit_to_parent</span><span class="p">(</span><span class="n">child_account_id</span><span class="p">,</span>
                                           <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                                           <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                                           <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">childAccountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">88a5987a-1e1c-47c5-ba95-34ef14db3d46</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">transferChildCreditToParent</span><span class="p">(</span><span class="nx">childAccountID</span><span class="p">,</span> <span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$childAccountID</span> <span class="o">=</span> <span class="s1">'88a5987a-1e1c-47c5-ba95-34ef14db3d46'</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span> <span class="nf">transferChildCreditToParent</span><span class="p">(</span><span class="nv">$childAccountID</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">);</span>
</code></pre></div>
<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 204 and an empty body.</p>
<h2 id='custom-fields'>Custom Fields</h2>
<p>Custom fields are <code>{key, value}</code> attributes that can be attached to any customer resource. In particular they can be added to the customer <code>Account</code>. For details on Custom Fields see <a href="custom-field.html">Custom Field</a>.</p>
<h3 id='add-custom-fields-to-account'>Add custom fields to account</h3>
<p>Add custom fields to a given <code>Account</code>.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>POST http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/customFields</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'[ { "objectType": "ACCOUNT", "name": "Test Custom Field", "value": "demo_test_value" }]'</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/customFields"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"15434b45-54c1-4a44-851c-b1f2f7a52f03"</span><span class="o">);</span>
<span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">AuditLog</span><span class="o">&gt;</span> <span class="no">EMPTY_AUDIT_LOGS</span> <span class="o">=</span> <span class="nc">Collections</span><span class="o">.</span><span class="na">emptyList</span><span class="o">();</span>

<span class="nc">CustomFields</span> <span class="n">customFields</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CustomFields</span><span class="o">();</span>
<span class="n">customFields</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">CustomField</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> 
                                 <span class="n">accountId</span><span class="o">,</span>
                                 <span class="nc">ObjectType</span><span class="o">.</span><span class="na">ACCOUNT</span><span class="o">,</span>
                                 <span class="s">"Test Custom Field"</span><span class="o">,</span> 
                                 <span class="s">"test_value"</span><span class="o">,</span> 
                                 <span class="no">EMPTY_AUDIT_LOGS</span><span class="o">));</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">createAccountCustomFields</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                     <span class="n">customFields</span><span class="o">,</span> 
                                     <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'15434b45-54c1-4a44-851c-b1f2f7a52f03'</span>

<span class="n">custom_field</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">CustomFieldAttributes</span><span class="p">.</span><span class="nf">new</span>

<span class="n">custom_field</span><span class="p">.</span><span class="nf">object_type</span> <span class="o">=</span> <span class="s1">'ACCOUNT'</span>
<span class="n">custom_field</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s1">'Test Custom Field'</span>
<span class="n">custom_field</span><span class="p">.</span><span class="nf">value</span> <span class="o">=</span> <span class="s1">'test_value'</span>

<span class="n">account</span><span class="p">.</span><span class="nf">add_custom_field</span><span class="p">(</span><span class="n">custom_field</span><span class="p">,</span> 
                         <span class="n">user</span><span class="p">,</span>
                         <span class="n">reason</span><span class="p">,</span>
                         <span class="n">comment</span><span class="p">,</span>
                         <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'8992e146-bfa1-4126-a045-98b844a4adcb'</span>
<span class="n">body</span> <span class="o">=</span> <span class="n">CustomField</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'Test Custom Field'</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">'test_value'</span><span class="p">)</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">create_account_custom_fields</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                                        <span class="p">[</span><span class="n">body</span><span class="p">],</span>
                                        <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                                        <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                                        <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">CustomField</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Test Custom Field</span><span class="dl">'</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">test_value</span><span class="dl">'</span> <span class="p">}];</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">createAccountCustomFields</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="dl">'</span><span class="s1">8992e146-bfa1-4126-a045-98b844a4adcb</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>


<span class="nv">$customField</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CustomField</span><span class="p">();</span>

<span class="nv">$customField</span><span class="o">-&gt;</span><span class="nf">setName</span><span class="p">(</span><span class="s2">"Test Custom Field"</span><span class="p">);</span>
<span class="nv">$customField</span><span class="o">-&gt;</span><span class="nf">setValue</span><span class="p">(</span><span class="s2">"test_value"</span><span class="p">);</span>

<span class="nv">$customFields</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$customField</span><span class="p">);</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"8992e146-bfa1-4126-a045-98b844a4adcb"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">createAccountCustomFields</span><span class="p">(</span><span class="nv">$customFields</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span> <span class="nv">$accountID</span><span class="p">,</span> <span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Request Body</strong></p>

<p>A list of objects giving the name and value of the custom field, or fields, to be added. For example:</p>

<p>[ { &quot;name&quot;: &quot;CF1&quot;, &quot;value&quot;: &quot;123&quot; } ]</p>

<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a 201 status code. In addition, a <code>Location</code> header is returned giving the URL to retrieve the custom fields associated with the account.</p>
<h3 id='retrieve-all-custom-fields'>Retrieve all custom fields</h3>
<p>Retrieves all custom fields attached to various resources owned by the <code>Account</code>.
This endpoint allows you to retrieve all custom fields, or to filter them by type, e.g <code>Subscription</code>.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/allCustomFields</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/allCustomFields"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"b38de59f-7dd0-447a-a508-9b022b808250"</span><span class="o">);</span>

<span class="nc">CustomFields</span> <span class="n">allAccountCustomFields</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAllCustomFields</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                                                    <span class="nc">ObjectType</span><span class="o">.</span><span class="na">ACCOUNT</span><span class="o">,</span> 
                                                                    <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">FULL</span><span class="o">,</span> 
                                                                    <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span>

<span class="n">object_type</span> <span class="o">=</span> <span class="s1">'ACCOUNT'</span>
<span class="n">audit</span> <span class="o">=</span> <span class="s1">'NONE'</span>

<span class="n">allCustomFields</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">all_custom_fields</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span>
                                            <span class="n">audit</span><span class="p">,</span> 
                                            <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span>

<span class="n">allCustomFields</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_all_custom_fields</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span><span class="n">object_type</span><span class="o">=</span><span class="s">'ACCOUNT'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">07c0cef4-41c5-4606-b2cd-661332cdd41c</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">CustomField</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAllCustomFields</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"07c0cef4-41c5-4606-b2cd-661332cdd41c"</span><span class="p">;</span>

<span class="nv">$allCustomFields</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAllCustomFields</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"customFieldId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48e24ca0-1cfe-41c3-85e7-0ff0d51679fe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Custom Field"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_value"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>objectType</strong></td>
<td>string</td>
<td>false</td>
<td>retrieve all</td>
<td>type of object</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p>Possible values for <strong>objectType</strong> are ACCOUNT, ACCOUNT_EMAIL, BLOCKING_STATES, BUNDLE, CUSTOM_FIELD, INVOICE, PAYMENT, TRANSACTION, INVOICE_ITEM, INVOICE_PAYMENT, SUBSCRIPTION, SUBSCRIPTION_EVENT, SERVICE_BROADCAST, PAYMENT_ATTEMPT, PAYMENT_METHOD, TAG, TAG_DEFINITION, TENANT, or TENANT_KVS.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of custom field objects</p>
<h3 id='retrieve-account-custom-fields'>Retrieve account custom fields</h3>
<p>Retrieve the custom fields associated with an account</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/customFields</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://localhost:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/customFields"</span>   
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"59860a0d-c032-456d-a35e-3a48fe8579e5"</span><span class="o">);</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">CustomField</span><span class="o">&gt;</span> <span class="n">accountCustomFields</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccountCustomFields</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span>
                                                                          <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span> 
                                                                          <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'59860a0d-c032-456d-a35e-3a48fe8579e5'</span>

<span class="n">audit</span> <span class="o">=</span> <span class="s1">'NONE'</span>

<span class="n">accountCustomFields</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">custom_fields</span><span class="p">(</span><span class="n">audit</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'8992e146-bfa1-4126-a045-98b844a4adcb'</span>

<span class="n">accountCustomFields</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account_custom_fields</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">07c0cef4-41c5-4606-b2cd-661332cdd41c</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">CustomField</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getCustomFields</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"07c0cef4-41c5-4606-b2cd-661332cdd41c"</span><span class="p">;</span>

<span class="nv">$accountCustomFields</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAccountCustomFields</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"customFieldId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48e24ca0-1cfe-41c3-85e7-0ff0d51679fe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Custom Field"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_value"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a (possibly empty) list of custom field objects</p>
<h3 id='modify-custom-fields-for-an-account'>Modify custom fields for an account</h3>
<p>Modify the custom fields associated with an account. Note that it is not possible to modify the name of a custom field, it is only possible to modify its value.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>PUT http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/customFields</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> PUT <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'[ { "customFieldId": "48e24ca0-1cfe-41c3-85e7-0ff0d51679fe", "objectId": "2ad52f53-85ae-408a-9879-32a7e59dd03d", "objectType": "ACCOUNT", "name": "Test Custom Field" , "value": "test_modify_value", "auditLogs": [] }]'</span> <span class="se">\</span>
    <span class="s2">"http://localhost:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/customFields"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"59860a0d-c032-456d-a35e-3a48fe8579e5"</span><span class="o">);</span>
<span class="no">UUID</span> <span class="n">customFieldsId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"9913e0f6-b5ef-498b-ac47-60e1626eba8f"</span><span class="o">);</span>

<span class="nc">CustomField</span> <span class="n">customFieldModified</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CustomField</span><span class="o">();</span>
<span class="n">customFieldModified</span><span class="o">.</span><span class="na">setCustomFieldId</span><span class="o">(</span><span class="n">customFieldsId</span><span class="o">);</span>
<span class="n">customFieldModified</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="s">"NewValue"</span><span class="o">);</span>
<span class="nc">CustomFields</span> <span class="n">customFields</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CustomFields</span><span class="o">();</span>
<span class="n">customFields</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">customFieldModified</span><span class="o">);</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">modifyAccountCustomFields</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                     <span class="n">customFields</span><span class="o">,</span> 
                                     <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'59860a0d-c032-456d-a35e-3a48fe8579e5'</span>

<span class="n">custom_field</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">CustomFieldAttributes</span><span class="p">.</span><span class="nf">new</span>

<span class="n">custom_field</span><span class="p">.</span><span class="nf">custom_field_id</span> <span class="o">=</span> <span class="s1">'7fb3dde7-0911-4477-99e3-69d142509bb9'</span>
<span class="n">custom_field</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s1">'Test Modify'</span>
<span class="n">custom_field</span><span class="p">.</span><span class="nf">value</span> <span class="o">=</span> <span class="s1">'test_modify_value'</span>

<span class="n">account</span><span class="p">.</span><span class="nf">modify_custom_field</span><span class="p">(</span><span class="n">custom_field</span><span class="p">,</span>                                       
                            <span class="n">user</span><span class="p">,</span> 
                            <span class="n">reason</span><span class="p">,</span>
                            <span class="n">comment</span><span class="p">,</span> 
                            <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">account</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'8992e146-bfa1-4126-a045-98b844a4adcb'</span>
<span class="n">body</span> <span class="o">=</span> <span class="n">CustomField</span><span class="p">(</span><span class="n">custom_field_id</span><span class="o">=</span><span class="n">custom_field_id</span><span class="p">,</span> 
                   <span class="n">name</span><span class="o">=</span><span class="s">'Test Custom Field'</span><span class="p">,</span> 
                   <span class="n">value</span><span class="o">=</span><span class="s">'test_value'</span><span class="p">)</span>

<span class="n">account</span><span class="p">.</span><span class="n">modify_account_custom_fields</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> 
                                     <span class="p">[</span><span class="n">body</span><span class="p">],</span> 
                                     <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                                     <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                                     <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">CustomField</span> <span class="o">=</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Test Custom Field</span><span class="dl">'</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">test_modify_value</span><span class="dl">'</span> <span class="p">};</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">modifyAccountCustomFields</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span><span class="dl">'</span><span class="s1">59860a0d-c032-456d-a35e-3a48fe8579e5</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>


<span class="nv">$customField</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CustomField</span><span class="p">();</span>

<span class="nv">$customField</span><span class="o">-&gt;</span><span class="nf">setCustomFieldId</span><span class="p">(</span><span class="s1">'92b90b52-d4ef-47e7-ba4e-614255353a9a'</span><span class="p">);</span>
<span class="nv">$customField</span><span class="o">-&gt;</span><span class="nf">setValue</span><span class="p">(</span><span class="s2">"test_modify_value"</span><span class="p">);</span>

<span class="nv">$customFields</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$customField</span><span class="p">);</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"59860a0d-c032-456d-a35e-3a48fe8579e5"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">modifyAccountCustomFields</span><span class="p">(</span><span class="nv">$customFields</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span> <span class="nv">$accountID</span><span class="p">,</span> <span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Request Body</strong></p>

<p>A list of objects specifying the id and the new value for the custom fields to be modified. For example:</p>

<p>[ { &quot;customFieldId&quot;: &quot;6d4c073b-fd89-4e39-9802-eba65f42492f&quot;, &quot;value&quot;: &quot;123&quot; } ]</p>

<p>Although the <code>fieldName</code> and <code>objectType</code> can be specified in the request body, these cannot be modified, only the field value can be modified.</p>

<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Returns</strong></p>

<p>If successful, a status code of 204 and an empty body.</p>
<h3 id='remove-custom-fields-from-account'>Remove custom fields from account</h3>
<p>Remove a specified set of custom fields from the account</p>

<p><strong>HTTP Request</strong> </p>

<p><code>DELETE http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/customField</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> DELETE <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/customFields?customField=9913e0f6-b5ef-498b-ac47-60e1626eba8f"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"59860a0d-c032-456d-a35e-3a48fe8579e5"</span><span class="o">);</span>
<span class="no">UUID</span> <span class="n">customFieldsId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"9913e0f6-b5ef-498b-ac47-60e1626eba8f"</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="no">UUID</span><span class="o">&gt;</span> <span class="n">customFieldsList</span> <span class="o">=</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">customFieldsId</span><span class="o">);</span>
<span class="n">accountApi</span><span class="o">.</span><span class="na">deleteAccountCustomFields</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                     <span class="n">customFieldsList</span><span class="o">,</span> 
                                     <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">custom_field_id</span> <span class="o">=</span> <span class="n">custom_field</span><span class="p">.</span><span class="nf">id</span>

<span class="n">account</span><span class="p">.</span><span class="nf">remove_custom_field</span><span class="p">(</span><span class="n">custom_field_id</span><span class="p">,</span> 
                            <span class="n">user</span><span class="p">,</span> 
                            <span class="n">reason</span><span class="p">,</span>
                            <span class="n">comment</span><span class="p">,</span> 
                            <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">account</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'8992e146-bfa1-4126-a045-98b844a4adcb'</span>

<span class="n">account</span><span class="p">.</span><span class="n">delete_account_custom_fields</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                                     <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                                     <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                                     <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">8992e146-bfa1-4126-a045-98b844a4adcb</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">deleteAccountCustomFields</span><span class="p">(</span><span class="nx">accountID</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>

<span class="nv">$customField</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CustomField</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"8992e146-bfa1-4126-a045-98b844a4adcb"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">deleteAccountCustomFields</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">);</span>
</code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>customField</strong></td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>Custom field object ID that should be deleted. Multiple custom fields can be deleted by specifying a separate <strong>customField</strong> parameter corresponding to each field</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 204 and an empty body.</p>
<h2 id='tags'>Tags</h2>
<p>This section provides APIs to add tags, to retrieve all tags, to retrieve account tags and to remove tags associated with the account. For more details on tags, see section <a href="tag.html">Tag</a>.</p>
<h3 id='add-tags-to-account'>Add tags to account</h3>
<p>This API adds one or more tags to an account. The tag definitions must already exist.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>POST http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/tags</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> POST <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'[ "00000000-0000-0000-0000-000000000002"]'</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/tags"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"f4087a76-9f8a-4893-abbf-c5bb69975d1b"</span><span class="o">);</span>

<span class="no">UUID</span> <span class="n">autoPayOffTagId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"00000000-0000-0000-0000-000000000001"</span><span class="o">);</span>

<span class="nc">Tags</span> <span class="n">result</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">createAccountTags</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                           <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">autoPayOffTagId</span><span class="o">),</span> 
                                           <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'f4087a76-9f8a-4893-abbf-c5bb69975d1b'</span>

<span class="n">tag_name</span> <span class="o">=</span> <span class="s1">'TEST'</span>

<span class="n">account</span><span class="p">.</span><span class="nf">add_tag</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span>
                <span class="n">user</span><span class="p">,</span>
                <span class="n">reason</span><span class="p">,</span>
                <span class="n">comment</span><span class="p">,</span>
                <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'b0da8392-49ba-43f2-8fac-3f9f85b8ff61'</span>
<span class="n">tagDefIds</span> <span class="o">=</span> <span class="p">[</span><span class="s">"00000000-0000-0000-0000-000000000002"</span><span class="p">]</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">create_account_tags</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> 
                               <span class="n">tagDefIds</span><span class="p">,</span> 
                               <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                               <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                               <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">tags</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">00000000-0000-0000-0000-000000000002</span><span class="dl">'</span><span class="p">];</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">createAccountTags</span><span class="p">(</span><span class="nx">tags</span><span class="p">,</span><span class="dl">'</span><span class="s1">b0da8392-49ba-43f2-8fac-3f9f85b8ff61</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>

<span class="nv">$tags</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'00000000-0000-0000-0000-000000000002'</span><span class="p">];</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"b0da8392-49ba-43f2-8fac-3f9f85b8ff61"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">createAccountTags</span><span class="p">(</span><span class="nv">$tags</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillReason</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Request Body</strong></p>

<p>A JSON array containing one or more tag definition ids to be added as user tags.</p>

<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Returns</strong></p>

<p>If successful, returns a 201 status code. In addition, a <code>Location</code> header is returned giving the URL to retrieve the tags associated with the account.</p>
<h3 id='retrieve-all-tags'>Retrieve all tags</h3>
<p>Retrieves all tags attached to resources owned by this <code>Account</code>. This API allows you to retrieve all tags, or only tags attached to a specified resource type. </p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/allTags</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/allTags"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"ee6835f0-8347-42d3-958c-9a939383ba28"</span><span class="o">);</span>

<span class="nc">Tags</span> <span class="n">allAccountTags</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAllTags</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span>
                                            <span class="nc">ObjectType</span><span class="o">.</span><span class="na">ACCOUNT</span><span class="o">,</span>
                                            <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span>

<span class="n">allAccountTags</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_all_tags</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'07c0cef4-41c5-4606-b2cd-661332cdd41c'</span>

<span class="n">object_type</span> <span class="o">=</span> <span class="s1">'ACCOUNT'</span>
<span class="n">included_deleted</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">audit</span> <span class="o">=</span> <span class="s1">'NONE'</span>

<span class="n">allTags</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">all_tags</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span> 
                           <span class="n">included_deleted</span><span class="p">,</span> 
                           <span class="n">audit</span><span class="p">,</span> 
                           <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">07c0cef4-41c5-4606-b2cd-661332cdd41c</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAllTags</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"07c0cef4-41c5-4606-b2cd-661332cdd41c"</span><span class="p">;</span>

<span class="nv">$allTags</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAllTags</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"tagId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0f7c5837-1ed9-41ab-b391-9ef7ea4ab049"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tagDefinitionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000002"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tagDefinitionName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTO_INVOICING_OFF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>objectType</strong></td>
<td>string</td>
<td>false</td>
<td>all object types</td>
<td>choose type of object</td>
</tr>
<tr>
<td><strong>includedDeleted</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>choose true to include deleted tags</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p>Possible values for <strong>objectType</strong> are ACCOUNT, ACCOUNT_EMAIL, BLOCKING_STATES, BUNDLE, CUSTOM_FIELD, INVOICE, PAYMENT, TRANSACTION, INVOICE_ITEM, INVOICE_PAYMENT, SUBSCRIPTION, SUBSCRIPTION_EVENT, SERVICE_BROADCAST, PAYMENT_ATTEMPT, PAYMENT_METHOD, TAG, TAG_DEFINITION, TENANT, or TENANT_KVS.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of tag objects.</p>
<h3 id='retrieve-account-tags'>Retrieve account tags</h3>
<p>Retrieve all tags attached to this account itself.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/tags</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/tags"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"e659f0f3-745c-46d5-953c-28fe9282fc7d"</span><span class="o">);</span>
<span class="nc">Boolean</span> <span class="n">includedDeleted</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Will not include deleted tags</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Tag</span><span class="o">&gt;</span> <span class="n">tags1</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccountTags</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                            <span class="n">includedDeleted</span><span class="o">,</span> 
                                            <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">FULL</span><span class="o">,</span> 
                                            <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'e659f0f3-745c-46d5-953c-28fe9282fc7d'</span>

<span class="n">included_deleted</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">audit</span> <span class="o">=</span> <span class="s1">'NONE'</span>

<span class="n">accountTags</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">tags</span><span class="p">(</span><span class="n">included_deleted</span><span class="p">,</span>
                           <span class="n">audit</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'b0da8392-49ba-43f2-8fac-3f9f85b8ff61'</span>

<span class="n">accountTags</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account_tags</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">b0da8392-49ba-43f2-8fac-3f9f85b8ff61</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccountTags</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"07c0cef4-41c5-4606-b2cd-661332cdd41c"</span><span class="p">;</span>

<span class="nv">$accountTags</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAccountTags</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"tagId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0f7c5837-1ed9-41ab-b391-9ef7ea4ab049"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tagDefinitionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000002"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tagDefinitionName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTO_INVOICING_OFF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>includedDeleted</strong></td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>choose true to include deleted tags</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of tag objects.</p>
<h3 id='remove-tags-from-account'>Remove tags from account</h3>
<p>This API removes a list of tags attached to an account.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>DELETE http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/tags</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-X</span> DELETE <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-CreatedBy: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Reason: demo"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-Comment: demo"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/tags?tagDef=00000000-0000-0000-0000-000000000002"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"e659f0f3-745c-46d5-953c-28fe9282fc7d"</span><span class="o">);</span>
<span class="no">UUID</span> <span class="n">autoPayOffId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"00000000-0000-0000-0000-000000000001"</span><span class="o">);</span>

<span class="n">accountApi</span><span class="o">.</span><span class="na">deleteAccountTags</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                             <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">autoPayOffId</span><span class="o">),</span> 
                             <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="s1">'user'</span>
<span class="n">reason</span> <span class="o">=</span> <span class="s1">'reason'</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'comment'</span>

<span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'e659f0f3-745c-46d5-953c-28fe9282fc7d'</span>

<span class="n">tag_name</span> <span class="o">=</span> <span class="s1">'TEST'</span>

<span class="n">account</span><span class="p">.</span><span class="nf">remove_tag</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span>
                   <span class="n">user</span><span class="p">,</span>
                   <span class="n">reason</span><span class="p">,</span>
                   <span class="n">comment</span><span class="p">,</span>
                   <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'b0da8392-49ba-43f2-8fac-3f9f85b8ff61'</span>
<span class="n">tagDefIds</span> <span class="o">=</span> <span class="p">[</span><span class="s">"00000000-0000-0000-0000-000000000002"</span><span class="p">]</span>

<span class="n">accountApi</span><span class="p">.</span><span class="n">delete_account_tags</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> 
                               <span class="n">tag_def</span><span class="o">=</span><span class="n">tagDefIds</span><span class="p">,</span>
                               <span class="n">created_by</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
                               <span class="n">reason</span><span class="o">=</span><span class="s">'reason'</span><span class="p">,</span> 
                               <span class="n">comment</span><span class="o">=</span><span class="s">'comment'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">b0da8392-49ba-43f2-8fac-3f9f85b8ff61</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">deleteAccountTags</span><span class="p">(</span><span class="nx">accountID</span><span class="p">,</span><span class="dl">'</span><span class="s1">created_by</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$xKillbillCreatedBy</span> <span class="o">=</span> <span class="s2">"user"</span><span class="p">;</span>
<span class="nv">$xKillbillReason</span> <span class="o">=</span> <span class="s2">"reason"</span><span class="p">;</span>
<span class="nv">$xKillbillComment</span> <span class="o">=</span> <span class="s2">"comment"</span><span class="p">;</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"b0da8392-49ba-43f2-8fac-3f9f85b8ff61"</span><span class="p">;</span>

<span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">deleteAccountTags</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$xKillbillCreatedBy</span><span class="p">,</span><span class="nv">$xKillbillComment</span><span class="p">);</span>
</code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>tagDef</strong></td>
<td>array of string</td>
<td>true</td>
<td>none</td>
<td>A tag definition ID identifying the tag that should be removed. Multiple tags can be deleted by specifying a separate <strong>tagDef</strong> parameter corresponding to each tag.</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 204 and an empty body.</p>
<h2 id='audit-logs'>Audit Logs</h2>
<p>Audit logs provide a record of events that occur involving various specific resources. For details on audit logs see <a href="https://killbill.github.io/slate/#using-kill-bill-apis-audit-and-history">Audit and History</a>.</p>
<h3 id='retrieve-audit-logs'>Retrieve audit logs</h3>
<p>Retrieve a list of audit log records showing events that occurred involving changes to any resource associated with the specified account. History information (a copy of the full resource object) is not included.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/auditLogs</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/auditLogs"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"e9432491-6558-4007-85ef-cdae171d240c"</span><span class="o">);</span>

<span class="nc">AuditLogs</span> <span class="n">auditLogsJson</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccountAuditLogs</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                                         <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'4e4d8acd-c97d-447a-814b-28f995a9106c'</span>

<span class="n">auditLogs</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">audit</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'4e4d8acd-c97d-447a-814b-28f995a9106c'</span>

<span class="n">auditLogs</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account_audit_logs</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">b0da8392-49ba-43f2-8fac-3f9f85b8ff61</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">AuditLog</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccountAuditLogs</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"b0da8392-49ba-43f2-8fac-3f9f85b8ff61"</span><span class="p">;</span>

<span class="nv">$accountAuditLogs</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAccountAuditLogs</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INSERT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T15:02:45.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bca75b40-ffa3-41f8-9fde-06f83ee303e8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UPDATE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T18:46:47.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9a61a1e6-78f3-43d3-addf-e7ada180b23d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UPDATE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T18:48:37.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0c41a04d-4037-4fa9-af71-dfe54af4d3ae"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INSERT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T19:07:25.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOM_FIELD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48e24ca0-1cfe-41c3-85e7-0ff0d51679fe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c9b9ab11-14b1-41b5-8371-1c425f273336"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UPDATE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T19:26:46.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOM_FIELD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48e24ca0-1cfe-41c3-85e7-0ff0d51679fe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd26b216-deb2-43d4-b748-dec8e9917ada"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELETE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T20:02:01.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOM_FIELD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48e24ca0-1cfe-41c3-85e7-0ff0d51679fe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0d5c8db7-974f-47e0-9332-5d9625f72155"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of audit logs.</p>
<h3 id='retrieve-account-audit-logs-with-history'>Retrieve account audit logs with history</h3>
<p>Retrieve a list of audit log records showing events that occurred involving changes to the specified account itself. History information (a copy of the full account object) is included with each record.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/auditLogsWithHistory</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/auditLogsWithHistory"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"ecbff3be-3cbf-4e1d-ae05-d323d4597877"</span><span class="o">);</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">AuditLog</span><span class="o">&gt;</span> <span class="n">auditLogWithHistories</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccountAuditLogsWithHistory</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                                                                 <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'c62d5f6d-0b57-444d-bf9b-dd23e781fbda'</span>

<span class="n">auditLogsWithHistory</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">audit_logs_with_history</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'c62d5f6d-0b57-444d-bf9b-dd23e781fbda'</span>

<span class="n">auditLogsWithHistory</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account_audit_logs_with_history</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">b0da8392-49ba-43f2-8fac-3f9f85b8ff61</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">AuditLog</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccountAuditLogsWithHistory</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"b0da8392-49ba-43f2-8fac-3f9f85b8ff61"</span><span class="p">;</span>

<span class="nv">$accountAuditLogs</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAccountAuditLogsWithHistory</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INSERT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T15:02:45.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bca75b40-ffa3-41f8-9fde-06f83ee303e8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T15:02:45.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T15:02:45.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tenantRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@laposte.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"firstNameLength"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isPaymentDelegatedToParent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billingCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"referenceTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T15:02:45.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"companyName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"stateOrProvince"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"historyTableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT_HISTORY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UPDATE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T18:46:47.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9a61a1e6-78f3-43d3-addf-e7ada180b23d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T18:46:47.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T18:46:47.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tenantRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@laposte.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Another Name"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"firstNameLength"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isPaymentDelegatedToParent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billingCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"referenceTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T15:02:45.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"companyName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"stateOrProvince"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"historyTableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT_HISTORY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UPDATE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T18:48:37.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0c41a04d-4037-4fa9-af71-dfe54af4d3ae"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T18:48:37.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T18:48:37.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tenantRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@laposte.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"firstNameLength"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isPaymentDelegatedToParent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billingCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"referenceTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-17T15:02:45.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"companyName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"stateOrProvince"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"historyTableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT_HISTORY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of audit logs.</p>
<h3 id='retrieve-account-email-audit-logs-with-history'>Retrieve account email audit logs with history</h3>
<p>Retrieve a list of audit log records showing events that occurred involving changes to a specified account email. History information (a copy of the full email object) is included with each record.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/emails/{accountEmailId}/auditLogsWithHistory</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/emails/aa2a5614-88d9-4ec3-a042-a4771bd66670/auditLogsWithHistory"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"873c26ef-a3fa-4942-b2f5-549b51f20b1a"</span><span class="o">);</span>
<span class="no">UUID</span> <span class="n">accountEmailId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"f637441d-855e-4bf5-bac1-6426bdb116d6"</span><span class="o">);</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">AuditLog</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccountEmailAuditLogsWithHistory</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span> 
                                                                       <span class="n">accountEmailId</span><span class="o">,</span> 
                                                                       <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account</span> <span class="o">=</span> <span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">new</span>

<span class="n">account</span><span class="p">.</span><span class="nf">account_id</span> <span class="o">=</span> <span class="s1">'c62d5f6d-0b57-444d-bf9b-dd23e781fbda'</span>

<span class="n">account_email_id</span> <span class="o">=</span> <span class="s1">'a4627e89-a73b-4167-a7ba-92a2881eb3c4'</span>

<span class="n">emailAuditLogsWithHistory</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">email_audit_logs_with_history</span><span class="p">(</span><span class="n">account_email_id</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'c62d5f6d-0b57-444d-bf9b-dd23e781fbda'</span>
<span class="n">account_email_id</span> <span class="o">=</span> <span class="s">'bb390282-6757-4f4f-8dd5-456abd9f30b2'</span>

<span class="n">emailAuditLogsWithHistory</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account_email_audit_logs_with_history</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                                                     <span class="n">account_email_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">c62d5f6d-0b57-444d-bf9b-dd23e781fbda</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">accountEmailID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">bb390282-6757-4f4f-8dd5-456abd9f30b2</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">AuditLog</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccountEmailAuditLogsWithHistory</span><span class="p">(</span><span class="nx">accountID</span><span class="p">,</span><span class="nx">accountEmailID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s2">"c62d5f6d-0b57-444d-bf9b-dd23e781fbda"</span><span class="p">;</span>
<span class="nv">$accountEmailID</span> <span class="o">=</span> <span class="s1">'bb390282-6757-4f4f-8dd5-456abd9f30b2'</span><span class="p">;</span>

<span class="nv">$accountEmailAuditLogs</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAccountEmailAuditLogsWithHistory</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">,</span><span class="nv">$accountEmailID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INSERT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T15:13:22.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT_EMAIL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aa2a5614-88d9-4ec3-a042-a4771bd66670"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"927546eb-3431-4bcf-8fcc-1787d2130772"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T15:13:22.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T15:13:22.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tenantRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ad52f53-85ae-408a-9879-32a7e59dd03d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@laposte.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT_EMAIL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"historyTableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCOUNT_EMAIL_HISTORY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of account email audit records, including history (copies of the complete record).</p>
<h3 id='retrieve-blocking-state-audit-logs-with-history'>Retrieve blocking state audit logs with history</h3>
<p>Retrieves the audit logs for a specific blocking state, given the blocking state id. History records (blocking state objects) are included.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/block/{blockingId}/auditLogsWithHistory</code></p>

<p>See section <a href="#account-blocking-state">Account Blocking State</a> for an introduction to blocking states. </p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl  <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/block/763fd113-1b9b-4d0d-be01-6ee56d3879f5/auditLogsWithHistory"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">blockingId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"0997b953-2b3a-4dc5-ad01-c38911662923"</span><span class="o">);</span>
<span class="nc">AuditLogs</span> <span class="n">result</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getBlockingStateAuditLogsWithHistory</span><span class="o">(</span><span class="n">blockingId</span><span class="o">,</span> <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">blockingId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0997b953-2b3a-4dc5-ad01-c38911662923</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">AuditLog</span><span class="p">[],</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getBlockingStateAuditLogsWithHistory</span><span class="p">(</span><span class="nx">blockingId</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$blockingId</span> <span class="o">=</span> <span class="s1">'0997b953-2b3a-4dc5-ad01-c38911662923'</span><span class="p">;</span>

<span class="nv">$blockingStateAuditLogs</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getBlockingStateAuditLogsWithHistory</span><span class="p">(</span><span class="nv">$blockingId</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"changeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INSERT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-22T22:38:10.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLOCKING_STATES"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"objectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"763fd113-1b9b-4d0d-be01-6ee56d3879f5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reasonCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f03e074-dea1-45c5-aee3-c9464886f476"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"history"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-22T22:38:10.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-22T22:38:10.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"recordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1326</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tenantRecordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockableId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70b6856e-6938-495f-9ae9-0a8ec0571c37"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIPTION"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENT_STARTED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement-service"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockChange"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-22T22:38:10.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLOCKING_STATES"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"historyTableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLOCKING_STATES"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<p>None.</p>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a list of blocking state audit logs with history.</p>
<h3 id='retrieve-account-timeline'>Retrieve account timeline</h3>
<p>This API retrieves the chronological set of events that occurred concerning a specific <code>Account</code>.</p>

<p><strong>HTTP Request</strong> </p>

<p><code>GET http://127.0.0.1:8080/1.0/kb/accounts/{accountId}/timeline</code></p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-v</span> <span class="se">\</span>
    <span class="nt">-u</span> admin:password <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiKey: bob"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"X-Killbill-ApiSecret: lazar"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
    <span class="s2">"http://127.0.0.1:8080/1.0/kb/accounts/2ad52f53-85ae-408a-9879-32a7e59dd03d/timeline"</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.killbill.billing.client.api.gen.AccountApi</span><span class="o">;</span>
<span class="kd">protected</span> <span class="nc">AccountApi</span> <span class="n">accountApi</span><span class="o">;</span>

<span class="no">UUID</span> <span class="n">accountId</span> <span class="o">=</span> <span class="no">UUID</span><span class="o">.</span><span class="na">fromString</span><span class="o">(</span><span class="s">"16364ac4-2a77-4444-b2d8-e980c37a8954"</span><span class="o">);</span>
<span class="nc">Boolean</span> <span class="n">parallel</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

<span class="nc">AccountTimeline</span> <span class="n">timeline</span> <span class="o">=</span> <span class="n">accountApi</span><span class="o">.</span><span class="na">getAccountTimeline</span><span class="o">(</span><span class="n">accountId</span><span class="o">,</span>
                                              <span class="n">parallel</span><span class="o">,</span>
                                              <span class="nc">AuditLevel</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span>
                                              <span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">account_id</span> <span class="o">=</span> <span class="n">account</span><span class="p">.</span><span class="nf">account_id</span>
<span class="n">audit</span> <span class="o">=</span> <span class="s1">'MINIMAL'</span>

<span class="no">KillBillClient</span><span class="o">::</span><span class="no">Model</span><span class="o">::</span><span class="no">AccountTimeline</span><span class="p">.</span><span class="nf">timeline</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span>
                                                <span class="n">audit</span><span class="p">,</span>
                                                <span class="n">options</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accountApi</span> <span class="o">=</span> <span class="n">killbill</span><span class="p">.</span><span class="n">AccountApi</span><span class="p">()</span>

<span class="n">account_id</span> <span class="o">=</span> <span class="s">'43488882-1777-460c-bc32-e375e67d09cf'</span>

<span class="n">accountTimeline</span> <span class="o">=</span> <span class="n">accountApi</span><span class="p">.</span><span class="n">get_account_timeline</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">api</span><span class="p">:</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountApi</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">accountID</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">43488882-1777-460c-bc32-e375e67d09cf</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">AxiosResponse</span><span class="o">&lt;</span><span class="nx">killbill</span><span class="p">.</span><span class="nx">AccountTimeline</span><span class="p">,</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAccountTimeline</span><span class="p">(</span><span class="nx">accountID</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$apiInstance</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">getAccountApi</span><span class="p">();</span>

<span class="nv">$accountID</span> <span class="o">=</span> <span class="s1">'43488882-1777-460c-bc32-e375e67d09cf'</span><span class="p">;</span>

<span class="nv">$accountTimeline</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="nf">getAccountTimeline</span><span class="p">(</span><span class="nv">$accountID</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25thAuGCus6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstNameLength"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25thAuGCus6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"billCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isPaymentDelegatedToParent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"referenceTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-25T16:28:43.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Etc/UTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en_US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isMigrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountBalance"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountCBA"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"bundles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bundleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"bundleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"bundleExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc608e24-509e-4b99-9519-2eeef67c20a2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc608e24-509e-4b99-9519-2eeef67c20a2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-01T16:28:43.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"productName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prodA"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BASE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"phaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EVERGREEN"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"planName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NATIVE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cancelledDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"chargedThroughDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-01"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billingStartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-01T16:28:43.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billingEndDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"billCycleDayLocal"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23088e1e-646c-4ce7-ad45-9c4369ef223a"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-01T16:28:43.000Z"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"catalogEffectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-24T16:24:23.000Z"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prodA"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_ENTITLEMENT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement-service"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENT_STARTED"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1b122b2b-eea4-4a6b-80a2-f9ae2a336fad"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-01T16:28:43.000Z"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"catalogEffectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-24T16:24:23.000Z"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prodA"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"billing-service"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"368581ee-cf14-4b81-9c34-c06adb5dbbcf"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-28T16:55:37.000Z"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"catalogEffectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-24T16:24:23.000Z"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prodA"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SERVICE_STATE_CHANGE"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ServiceStateService"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STATE1"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"planName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"phaseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"phaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EVERGREEN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"fixedPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="nl">"recurringPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
              </span><span class="nl">"usagePrices"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"timeline"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bundleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"externalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23088e1e-646c-4ce7-ad45-9c4369ef223a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-01T16:28:43.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"catalogEffectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-24T16:24:23.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prodA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_ENTITLEMENT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entitlement-service"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENT_STARTED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1b122b2b-eea4-4a6b-80a2-f9ae2a336fad"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-01T16:28:43.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"catalogEffectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-24T16:24:23.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prodA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"billing-service"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"START_BILLING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"368581ee-cf14-4b81-9c34-c06adb5dbbcf"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billingPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTHLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-28T16:55:37.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"catalogEffectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-24T16:24:23.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prodA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SERVICE_STATE_CHANGE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedBilling"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isBlockedEntitlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ServiceStateService"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceStateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STATE1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard-monthly-evergreen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"invoices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMMITTED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAdj"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundAdj"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2645c1f3-1d72-41a7-8cdb-3dca43340af6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-25"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targetDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17859"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bundleKeys"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"credits"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"trackingIds"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isParentInvoice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentInvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMMITTED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAdj"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundAdj"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e8dbe200-0738-4317-9c74-581696a0b4e9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-25"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targetDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-02-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17860"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bundleKeys"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"credits"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"trackingIds"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isParentInvoice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentInvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMMITTED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAdj"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundAdj"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"72662545-787c-4e9a-90af-4ac728392c35"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-25"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targetDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17861"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bundleKeys"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"credits"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"trackingIds"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isParentInvoice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentInvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMMITTED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAdj"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundAdj"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a5d2748-88df-4f3f-bb60-49e8fbce1c0a"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-25"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targetDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-25"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17862"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bundleKeys"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d6b5a-a6f8-4c60-a0ec-43782b4cd1b4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"credits"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"trackingIds"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isParentInvoice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentInvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parentAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"targetInvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2645c1f3-1d72-41a7-8cdb-3dca43340af6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555d80f8-abdf-4b25-9994-ac605b012ccb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555d80f8-abdf-4b25-9994-ac605b012ccb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"authAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"capturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"purchasedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f6c1080-74a6-4b52-bce1-2ca954086f72"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57857941-6956-413d-ac62-99af982d6f41"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57857941-6956-413d-ac62-99af982d6f41"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555d80f8-abdf-4b25-9994-ac605b012ccb"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555d80f8-abdf-4b25-9994-ac605b012ccb"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PURCHASE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-28T16:27:44.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorMsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"firstPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"secondPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"paymentAttempts"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"targetInvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e8dbe200-0738-4317-9c74-581696a0b4e9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2252f1cf-8cff-43b9-8d4b-472be14b79a2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2252f1cf-8cff-43b9-8d4b-472be14b79a2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"authAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"capturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"purchasedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f6c1080-74a6-4b52-bce1-2ca954086f72"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60c4ffe7-f67c-456d-955d-6d35d2cd3fd2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60c4ffe7-f67c-456d-955d-6d35d2cd3fd2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2252f1cf-8cff-43b9-8d4b-472be14b79a2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2252f1cf-8cff-43b9-8d4b-472be14b79a2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PURCHASE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-28T16:27:44.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorMsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"firstPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"secondPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"paymentAttempts"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"targetInvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"72662545-787c-4e9a-90af-4ac728392c35"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ef60c6-d89e-4d0b-aefd-42c13ce410b6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ef60c6-d89e-4d0b-aefd-42c13ce410b6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"authAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"capturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"purchasedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f6c1080-74a6-4b52-bce1-2ca954086f72"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aee6788b-526b-4c15-a943-b46bb9fe3ecf"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aee6788b-526b-4c15-a943-b46bb9fe3ecf"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ef60c6-d89e-4d0b-aefd-42c13ce410b6"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ef60c6-d89e-4d0b-aefd-42c13ce410b6"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PURCHASE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-28T16:27:44.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorMsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"firstPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"secondPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"paymentAttempts"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"targetInvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a5d2748-88df-4f3f-bb60-49e8fbce1c0a"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47d0a7c2-bffb-4c3a-b464-df17825260a0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47d0a7c2-bffb-4c3a-b464-df17825260a0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"authAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"capturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"purchasedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f6c1080-74a6-4b52-bce1-2ca954086f72"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3f424634-7207-48fc-8de5-8bf2de229984"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3f424634-7207-48fc-8de5-8bf2de229984"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47d0a7c2-bffb-4c3a-b464-df17825260a0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47d0a7c2-bffb-4c3a-b464-df17825260a0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PURCHASE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-28T16:27:44.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorMsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"firstPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"secondPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"paymentAttempts"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"targetInvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccf4e359-6b2b-4e26-9c3c-89e391b8fe85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3dd2264-b00f-45e9-aa5a-7a1f357aa786"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3dd2264-b00f-45e9-aa5a-7a1f357aa786"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"authAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="nl">"capturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"purchasedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"refundedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f6c1080-74a6-4b52-bce1-2ca954086f72"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8c890167-62cc-4a13-b724-93b8274da3d5"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8c890167-62cc-4a13-b724-93b8274da3d5"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3dd2264-b00f-45e9-aa5a-7a1f357aa786"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paymentExternalKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3dd2264-b00f-45e9-aa5a-7a1f357aa786"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTHORIZE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-28T16:34:34.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
          </span><span class="nl">"processedCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"gatewayErrorMsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"firstPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"secondPaymentReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"paymentAttempts"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>audit</strong></td>
<td>string</td>
<td>false</td>
<td>&quot;NONE&quot;</td>
<td>Level of audit information to return: &quot;NONE&quot;, &quot;MINIMAL&quot;, or &quot;FULL&quot;</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>If successful, returns a status code of 200 and a complete account record including: the account object; bundles with subscriptions and timelines giving all events; invoices; and payments including payment attempts.</p>

      </div>
    </main>
  </body>

    <script src="javascripts/all.js"></script>

  <script>
    function debounce(func, delay) {
      let timeoutId;
      return function() {
        const context = this;
        const args = arguments;
        clearTimeout(timeoutId);
        timeoutId = setTimeout(function() {
          func.apply(context, args);
        }, delay);
      };
    }
    function copyToClipboard(textToCopy) {
      const textarea = document.createElement('textarea');
      textarea.value = textToCopy;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
    }

    class ProgramingLanguages {
      _defaultList = [];

      constructor(langList) {
        this.list = langList;
        this.updateDOMWithNewActiveLanguage();

        $(".lang-selector .lang-selector__link").on("click", (event) => {
          event.preventDefault();
          this.updateDOMWithNewActiveLanguage($(event.target).data("language-name"));
        });

        $(".lang-selector .lang-selector__select").on("change", (event) => {
          event.preventDefault()
          this.updateDOMWithNewActiveLanguage(event.target.value)
        });
      }

      get list() {
        const list = localStorage.getItem('listOfProgramingLanguages');
        return list ? JSON.parse(list) : this._defaultList;
      }

      set list(list) {
        localStorage.setItem('listOfProgramingLanguages', JSON.stringify(list));
      }

      get activeLanguage() {
        const activeLang = localStorage.getItem('activeProgramingLanguage');
        return activeLang || this.list[0];
      }
      
      set activeLanguage(activeLang) {
        localStorage.setItem('activeProgramingLanguage', activeLang);
      }

      updateDOMWithNewActiveLanguage(lang) {
        if(lang) {
          this.activeLanguage = lang
        }

        $(".lang-selector .lang-selector__link").removeClass('active');
        $(`.lang-selector .lang-selector__link[data-language-name='${lang || this.activeLanguage}']`).addClass('active');
        this.showOnlyActiveLanguage();
      }
      
      showOnlyActiveLanguage() {
        const activeLang = this.activeLanguage;
        
        if (activeLang) {
          $('.code-snippet').each((index, element) => {
            const snippetHasActiveLang = $(element).find(`.${activeLang}`);

            if (!snippetHasActiveLang.length > 0) {
              $(element).hide();
            } else {
              $(element).show();
            }
            
            $(element).has('.json, .textplain, .plaintext, .xml').show();
            
            $(element).children('.highlight').each(function (index, ch) {
              $(ch).hide()
              $(ch).has(`.${activeLang}, .json, .textplain, .plaintext, .xml`).show()
            })
          });
        }
      }
    }

    // DOM restructuring
    $('.content h2, .content h3, .content h4').each(function(){
      const itemHref = '#' + $(this).attr('id');
      $(this).append(`<a href="${itemHref}" style="padding-left: 10px;"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>`);
      
      $(this).find('a').on('click', function(event) {
        const currentURLWithoutHash = window?.location?.href?.split('#')[0];
        const textToCopy = currentURLWithoutHash + itemHref;

        copyToClipboard(textToCopy)
      });
    });

    $('.content h3, .content h2, .content h1').each(
      function(i,e) {
        const sectionElements = $(this).nextUntil('h3, h2, h1')

        const codeSnippets = sectionElements.filter('.highlight, blockquote')
        const textBlock = sectionElements.not('.highlight, blockquote')

        const section = $('<section class="content__section" />')
          .append($('<div class="content__text" />').append(textBlock))
          .append($('<div class="content__code-snippets" />').append(codeSnippets))

        section.insertAfter($(this))
    });

    $('.content h2').each(
      function() {
        const sectionElements = $(this).nextUntil('h2, h1')
        $(this).add(sectionElements).wrapAll('<div class="content__section-container"/>' )
    });

    $('blockquote').each(function() {
      const $blockquote = $(this)
      $blockquote.prepend('<div class="copy-clipboard"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.25 1.5H11.1667C13.0335 1.5 13.9669 1.5 14.68 1.86331C15.3072 2.18289 15.8171 2.69282 16.1367 3.32003C16.5 4.03307 16.5 4.96649 16.5 6.83333V12.75M4.16667 16.5H10.9167C11.8501 16.5 12.3168 16.5 12.6733 16.3183C12.9869 16.1586 13.2419 15.9036 13.4017 15.59C13.5833 15.2335 13.5833 14.7668 13.5833 13.8333V7.08333C13.5833 6.14991 13.5833 5.6832 13.4017 5.32668C13.2419 5.01308 12.9869 4.75811 12.6733 4.59832C12.3168 4.41667 11.8501 4.41667 10.9167 4.41667H4.16667C3.23325 4.41667 2.76654 4.41667 2.41002 4.59832C2.09641 4.75811 1.84144 5.01308 1.68166 5.32668C1.5 5.6832 1.5 6.14991 1.5 7.08333V13.8333C1.5 14.7668 1.5 15.2335 1.68166 15.59C1.84144 15.9036 2.09641 16.1586 2.41002 16.3183C2.76654 16.5 3.23325 16.5 4.16667 16.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>');

      $($blockquote).add($($blockquote).nextUntil('blockquote', 'div')).wrapAll('<div class="code-snippet"></div>')
    });

    $('table').each(function () {
      $(this).wrapAll('<div class="table-wrapper" />')
    })

    // Init active menu item if it has 
    $('.site-navigator .site-navigator__menu-item[href*="#"]').addClass('active')

    // Init theme
    if(JSON.parse(localStorage.getItem('is-dark-theme'))) {
      $('body').addClass('dark')
    }

    // Init programing language 
    programingLanguages = new ProgramingLanguages($('body').data('languages'))

    // Add event listeners on '.copy-clipboard' selector
    $('.copy-clipboard').on('click', function () {
      copyToClipboard($(this).parent().parent().find(`.${programingLanguages.activeLanguage} code`).text());

      if (!$(this).find('.tooltip').length > 0) {
        $(this).prepend('<span class="tooltip">Copied</span>');
        
        let that = this;
        setTimeout(function () {
          $(that).find('.tooltip').remove();
        }, 2000);
      }
    });
    
    $('.theme-switch').on('click', function (e) {
      $('body').toggleClass('dark');

      localStorage.setItem('is-dark-theme', $('body').hasClass('dark'))
    });

    $('.header__sidebar-toggler').on('click', function() {
      $(this).toggleClass('active')
      $('.page').toggleClass('sidebar-full-width-show')
    })

    $('.page__sidebar-toggle').on('click', function () {
      $(this).toggleClass('active');
      $('.page').toggleClass('sidebar-show');
    });

    $('.site-navigator .site-navigator__menu-item').on('click', function () {
      if($(this).hasClass('active')) {
        $(this).removeClass('active')
      }
    })
    
    $('.site-navigator .site-navigator__submenu-item').on('click', function () {
      if($(this).parent('.site-navigator__submenu').siblings('.site-navigator__menu-item.active')) {
        $('.site-navigator .site-navigator__submenu-item').removeClass('active')
        $(this).addClass('active')

        return;
      }

      $('.site-navigator .site-navigator__submenu-item').removeClass('active')
      $('.site-navigator .site-navigator__menu-item').removeClass('active')
      $(this).parent('.site-navigator__menu-item').addClass('active')
      $(this).addClass('active')
    })

    const navLinks = $('.site-navigator .site-navigator__menu-item.active + .site-navigator__submenu').find('.site-navigator__submenu-item')
    const HEIGHT_OF_PAGE_HEADER = 70;
    
    function handleScroll() {
      navLinks.each(function(index) {
        const currentHref = $(this).attr('href')
        const targetHeader = $(currentHref);
        const targetSection = $(`${currentHref} + section`);

        if (!targetSection.length) {
          return;
        }

        const targetTop = Math.round(targetHeader.offset()?.top)
        const heightOfHeader = Math.round(targetHeader.outerHeight())
        // Calculate the end of an section
        const targetBottom = Math.round(targetTop + heightOfHeader + targetSection.outerHeight());

        if (HEIGHT_OF_PAGE_HEADER >= targetTop && 0 < targetBottom) {
          const currentNavSubitem = $(`.site-navigator .site-navigator__submenu-item[href="${currentHref}"]`)
          const currentSubmenuContainer = $(currentNavSubitem).parents('.site-navigator__submenu-container')
          const parentMenuItem = $(currentSubmenuContainer).find('>.site-navigator__submenu-item');

          if(parentMenuItem.hasClass('active')) {
            currentNavSubitem.parent().parent().find('.site-navigator__submenu-item').removeClass('active')
            currentNavSubitem.addClass('active')
          } else {
            $('.site-navigator .site-navigator__submenu-item').removeClass('active');
            parentMenuItem.addClass('active')
            $(currentNavSubitem).addClass('active')
          }
        }
      });
    }

    // Attach the custom debounced scroll event handler
    const debouncedScroll = debounce(handleScroll, 10);
    $('.page .page__content').on('scroll', debouncedScroll);

    // The page is ready  - hide loader
    setTimeout(() => $('.loader-wrapper').hide(), 500)
  </script>
  <script src='https://cdn.jsdelivr.net/npm/@docsearch/js@3'></script>
  <script>
    docsearch({apiKey: '3ef227e7fd5e2e1a3fffd880484934bf', container: '#docsearch', appId: 'S2ISXITURI', indexName: 'killbill_slate'});
  </script>
</html>
